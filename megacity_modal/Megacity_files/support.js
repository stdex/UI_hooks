var supportPunycode=new function(){function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:i}function c(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function h(e,t,n){var r;e=n?Math.floor(e/s):e>>1;e+=Math.floor(e/t);for(r=0;e>(i-o)*u>>1;r+=i){e=Math.floor(e/(i-o))}return Math.floor(r+(i-o+1)*e/(e+a))}function p(e,t){e-=(e-97<26)<<5;return e+((!t&&e-65<26)<<5)}this.utf16={decode:function(e){var t=[],n=0,r=e.length,i,s;while(n<r){i=e.charCodeAt(n++);if((i&63488)===55296){s=e.charCodeAt(n++);if((i&64512)!==55296||(s&64512)!==56320){throw new RangeError("UTF-16(decode): Illegal UTF-16 sequence")}i=((i&1023)<<10)+(s&1023)+65536}t.push(i)}return t},encode:function(e){var t=[],n=0,r=e.length,i;while(n<r){i=e[n++];if((i&63488)===55296){throw new RangeError("UTF-16(encode): Illegal UTF-16 value")}if(i>65535){i-=65536;t.push(String.fromCharCode(i>>>10&1023|55296));i=56320|i&1023}t.push(String.fromCharCode(i))}return t.join("")}};var t=128;var n=72;var r="-";var i=36;var s=700;var o=1;var u=26;var a=38;var f=2147483647;this.decode=function(e,s){var a=[];var c=[];var p=e.length;var d,v,m,g,y,b,w,E,S,x,T,N,C;d=t;m=0;g=n;y=e.lastIndexOf(r);if(y<0)y=0;for(b=0;b<y;++b){if(s)c[a.length]=e.charCodeAt(b)-65<26;if(e.charCodeAt(b)>=128){throw new RangeError("Illegal input >= 0x80")}a.push(e.charCodeAt(b))}for(w=y>0?y+1:0;w<p;){for(E=m,S=1,x=i;;x+=i){if(w>=p){throw RangeError("punycode_bad_input(1)")}T=l(e.charCodeAt(w++));if(T>=i){throw RangeError("punycode_bad_input(2)")}if(T>Math.floor((f-m)/S)){throw RangeError("punycode_overflow(1)")}m+=T*S;N=x<=g?o:x>=g+u?u:x-g;if(T<N){break}if(S>Math.floor(f/(i-N))){throw RangeError("punycode_overflow(2)")}S*=i-N}v=a.length+1;g=h(m-E,v,E===0);if(Math.floor(m/v)>f-d){throw RangeError("punycode_overflow(3)")}d+=Math.floor(m/v);m%=v;if(s){c.splice(m,0,e.charCodeAt(w-1)-65<26)}a.splice(m,0,d);m++}if(s){for(m=0,C=a.length;m<C;m++){if(c[m]){a[m]=String.fromCharCode(a[m]).toUpperCase().charCodeAt(0)}}}return this.utf16.encode(a)};this.encode=function(e,s){var a,l,d,v,m,g,y,b,w,E,S,x;if(s){x=this.utf16.decode(e)}e=this.utf16.decode(e.toLowerCase());var T=e.length;if(s){for(g=0;g<T;g++){x[g]=e[g]!=x[g]}}var N=[];a=t;l=0;m=n;for(g=0;g<T;++g){if(e[g]<128){N.push(String.fromCharCode(x?p(e[g],x[g]):e[g]))}}d=v=N.length;if(v>0)N.push(r);while(d<T){for(y=f,g=0;g<T;++g){S=e[g];if(S>=a&&S<y)y=S}if(y-a>Math.floor((f-l)/(d+1))){throw RangeError("punycode_overflow (1)")}l+=(y-a)*(d+1);a=y;for(g=0;g<T;++g){S=e[g];if(S<a){if(++l>f)return Error("punycode_overflow(2)")}if(S==a){for(b=l,w=i;;w+=i){E=w<=m?o:w>=m+u?u:w-m;if(b<E)break;N.push(String.fromCharCode(c(E+(b-E)%(i-E),0)));b=Math.floor((b-E)/(i-E))}N.push(String.fromCharCode(c(b,s&&x[g]?1:0)));m=h(l,d+1,d==v);l=0;++d}}++l,++a}return N.join("")};this.ToASCII=function(e){var t=e.split(".");var n=[];for(var r=0;r<t.length;++r){var i=t[r];n.push(i.match(/[^A-Za-z0-9-]/)?"xn--"+supportPunycode.encode(i):i)}return n.join(".")};this.ToUnicode=function(e){var t=e.split(".");var n=[];for(var r=0;r<t.length;++r){var i=t[r];n.push(i.match(/^xn--/)?supportPunycode.decode(i.slice(4)):i)}return n.join(".")}}
if(supportAPI==null){var SAhash=window.location.hash;if(SAhash.indexOf('browsercid')==-1){SAhash="";}
else{setInterval(function(){window.location.hash=window.browsercidHash;},1000);}
window.browsercidHash=SAhash;function supportLog(t){if(console!=null)console.log(t);}
var supportAPI={initStartedAfterMouseMove:false,subdomainFromFirstPathElement:[],allowMobileTrigger:true,supportScript:null,inMagicIframe:function(){return(window!=window.top);},helperDiv:null,mobile:false,mouseX:0,mouseY:0,talkID:null,domain:"https://me-talk.ru",queryString:"?",queryStringParams:{},siteParams:null,ie:false,iOS:false,body:false,head:false,disallowSendAutoMessageTime:3600,newMessageBackground:"rgba( 0, 0, 0, 0.80)",newMessageBackgroundIE:"#000",newMessageColor:"#fff",freePreLoad:false,fullyLoadedCallback:function(){},getDomain:function(preferredProtocol){var res=$SA.domain;if(this.siteParams&&this.siteParams.free){preferredProtocol="http";}
var script=document.getElementById("supportScript");if(script){if(script.src){var src=script.getAttribute("src");if(src.indexOf('http://')!=-1){preferredProtocol="http";}}}
if(window.location.protocol=="https:"){preferredProtocol="https";}
if(res.indexOf(":8088")!=-1){preferredProtocol="http";}
if(preferredProtocol=="https"){res='https://'+res.split('//')[1];}
return res;},free:function(){if($SA.siteParams!=null){if(!$SA.siteParams.free||!parseInt($SA.siteParams.codeInserted))return false;}
return true;},freePreloadInterval:null,enableFreePreload:function(){var $this=this;$this.freePreLoad=true;$this.freePreloadInterval=setInterval(function(){if($this.needFreeLoadSupport()){clearInterval($this.freePreloadInterval);$this.freePreLoad=false;$SA.support.init();}},5000);},needFreeLoadSupport:function(){return $SA.cookie.get("s_f_l")!=null;},LOADSUPPORTCALLED:false,LOADSUPPORT:function(){if(this.LOADSUPPORTCALLED)return;this.LOADSUPPORTCALLED=true;supportStorage.set("fls",1);$SA.initStartedAfterMouseMove=true;$SA.iOS=(navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?true:false);$SA.ie=(function(){var undef,v=3,div=document.createElement('div');while(div.innerHTML='<!--[if gt IE '+(++v)+']><i></i><![endif]-->',div.getElementsByTagName('i')[0]);return v>4?v:undef;}());var script=$Sizzle("script[src*='/support/support.js']")[0];if(script!=null){$SA.supportScript=script;var lcabDomain=script.src;lcabDomain=lcabDomain.split('/support/support');$SA.domain=lcabDomain[0];var c=script.src.split("?");var l=document.createElement("a");l.href=c[0];c=c.pop().split("&");var p={};for(var j=0;j<c.length;j++){var d=c[j].split("=");p[d[0]]=d[1]}
$SA.queryStringParams=p;if(!$SA.queryStringParams.h)$SA.queryStringParams.h="unknown";var domain="http://"+$SA.queryStringParams.h+".me-talk.ru";if(l.port=="8088")domain+=":8088";$SA.domain=domain;}
$SA.ready(function(){var body=document.getElementsByTagName("body");if(body[0]!=null)body=body[0];else{body=document.getElementsByTagName("html");if(body[0]!=null)body=body[0];}
$SA.body=body;$SA.dom.appendStyle("printVersion",'@media print{#supportTrigger{display:none !important;}}');var head=document.getElementsByTagName("head");if(head[0]!=null)head=head[0];else head=$SA.body;$SA.helperDiv=document.createElement("div");$SA.helperDiv.style.display="none";$SA.body.appendChild($SA.helperDiv);$SA.head=head;$SA.load.step1();});},dom:{getComputedStyle:function(elem){return window.getComputedStyle?getComputedStyle(elem,""):elem.currentStyle;},prependChild:function(e,t){e.insertBefore(t,e.firstChild)},hasClass:function(el,selector){var className=" "+selector+" ";if((" "+el.className+" ").replace(/[\n\t]/g," ").indexOf(className)>-1){return true;}
return false;},addClass:function(e,t){if(e==null)return;var n=e.getAttribute("class");if(n==null)n="";n=n.split(" ");var r=false;for(var i=0;i<n.length;i++){if(n[i]==t){r=true;break}}if(!r){n.push(t);n=n.join(" ").replace(/\s\s+/g," ");$SA.dom.setClass(e,n)}},setClass:function(e,t){if(e==null)return;e.setAttribute("class",t);e.className=t},getStyle:function(e){if(e==null)return;var t=e.getAttribute("style");if(t!=null&&typeof t=="object"&&t.cssText!=null)t=t.cssText;return t},removeClass:function(e,t){if(e==null)return;var n=e.getAttribute("class").replace(t,"");$SA.dom.setClass(e,n)},prependStyle:function(e,t){var n=document.getElementById(e);if(n==null){var n=document.createElement("style");n.setAttribute("id",e);$SA.dom.prependChild($SA.head,n)}n.type="text/css";if(n.styleSheet){n.styleSheet.cssText=t}else{n.innerHTML=t}},appendStyle:function(e,t){var n=document.getElementById(e);if(n==null){var n=document.createElement("style");n.setAttribute("id",e);$SA.body.appendChild(n);}
n.type="text/css";if(n.styleSheet){n.styleSheet.cssText=t;}else{n.innerHTML=t;}},attr:function(e,t){if(e[t]!=null)return e[t];else return null},hide:function(e){this.style(e,{display:"none",visibility:"hidden"})},show:function(e){this.style(e,{display:"block",visibility:"visible",opacity:1})},fadeOut:function(e,t){this.hide(e)},fadeIn:function(e,t){this.show(e)},style:function(e,t){if(e!=null){if(e.style!=null){for(var n in t){try{var r=t[n];e.style[n]=r;if(n=="float"){e.style.cssFloat=r}n=n.split("-");if(n.length>1){for(var i in n){if(i>0){n[i]=n[i].substr(0,1).toUpperCase()+n[i].substr(1)}}n=n.join("");e.style[n]=r}}catch(e){}}}}},convertHex2rgba:function(hex,opacity){hex=hex.replace('#','');r=parseInt(hex.substring(0,2),16);g=parseInt(hex.substring(2,4),16);b=parseInt(hex.substring(4,6),16);result='rgba('+r+','+g+','+b+','+opacity/100+')';return result;}},alert:function(text){alert(text);},getContentIframe:function(){if($SA.browser.operatorIframe!=null&&$SA.browser.operatorIframe.contentWindow.$SA!=null){return $SA.browser.operatorIframe;}
else if($SA.support.magicIframeLoaded&&$SA.support.magicIframe!=null&&$SA.support.magicIframe.contentWindow!=null&&$SA.support.magicIframe.contentWindow.$SA!=null){return $SA.support.magicIframe;}
return false;},createBigIframe:function(id,name,container){if(container==null)container=$SA.body;var i=document.createElement('iframe');i.name=name;i.id=id;i.setAttribute("frameBorder","none");i.setAttribute("seamless","seamless");if($SA.support.container){var zIndex=parseInt($SA.dom.getComputedStyle($SA.support.container).zIndex)-2;}
else{var zIndex=1;}
$SA.dom.style(i,{zIndex:zIndex,position:"fixed",display:"none",left:"0px",right:"0px",bottom:"0px",top:"0px",backgroundColor:"white",margin:"0px",border:"0px",width:'100%',height:'100%',overflow:"auto",border:"none"});i.style.cssText+="; width:100% !important; height:100% !important;";container.appendChild(i);return i;},support:{x:100,y:100,loadSupport:false,padding:40,ready:false,width:320,height:420,minHeight:490,minWidth:300,windowHeight:0,windowWidth:0,drag:false,trigger:null,container:false,iframe:false,socket:false,socketReady:false,isOpened:false,dragArea:null,dragHelper1:null,dragHelper2:null,magicIframe:null,isMagicIframeLoaded:false,newMessageDisplayed:false,newMessageNotificationLength:80,triggerTransition:"all 0.2s linear",triggerCentered:false,supportNewMessage:null,magicIframeInterval:null,triggerPositionInterval:null,supportContainerType:"dialog",triggerCSS:false,hideAllOriginalContent:function(){var idList="#onlineSupportClonePageIframe,#onlineSupportClonePageIframeWrapper,#supportTrigger,#onlineSupportContainer,#supportBrowserControlPanel,#onlineSupportOperatorBrowserIframeContainer,";$SA.dom.style($SA.body,{overflow:"hidden"});var html=document.getElementsByTagName("html")[0];if(html)$SA.dom.style(html,{overflow:"hidden"});for(var i in $SA.body.childNodes){var e=$SA.body.childNodes[i];if(idList.indexOf('#'+$SA.dom.attr(e,"id")+',')==-1){$SA.dom.hide(e);}}
$SA.dom.style($SA.body,{position:"static"});},lastShowTriggerValue:false,showTriggerBlocked:false,showTrigger:function(){if(($SA.support.mobileTrigger()&&this.elementFocused)||this.showTriggerBlocked){return false;}
if(!$SA.support.isOpened&&(!$SA.support.mobileTrigger()||!$SA.support.newMessageDisplayed)){this.lastShowTriggerValue=true;$SA.dom.removeClass($SA.support.trigger,"supportTriggerHidden");}},hideTrigger:function(){this.lastShowTriggerValue=false;$SA.dom.addClass($SA.support.trigger,"supportTriggerHidden");},elementFocused:false,showTriggerAfterBlurTimeout:null,elementWasFocused:function(){this.elementFocused=true;clearTimeout(this.showTriggerAfterBlurTimeout);if($SA.support.mobileTrigger()){this.hideTrigger();}},elementWasBlured:function(){var $this=this;$this.elementFocused=false;if($SA.support.mobileTrigger()){$this.showTriggerAfterBlurTimeout=setTimeout(function(){$this.showTrigger();},1000);}},magicIframeLoaded:function(){var $this=this;$this.isMagicIframeLoaded=true;var w=$this.magicIframe.contentWindow;var url=w.location.href;if(url!=null&&url.length&&url!="about:blank"){$this.hideAllOriginalContent();var title=document.title;if(w.document.title){title=w.document.title;document.title=title;}
document.title=title;if(window.history!=null&&window.history.pushState!=null)window.history.pushState(null,title,url);$this.post("loadNewPage",{url:url,title:title});$this.showMagicIframe();scroll(0,0);$SA.body.style.overflow="hidden";try{if($SA.siteParams.triggerParams.position=="right"){if($SA.support.triggerPositionInterval==null){$SA.support.triggerPositionInterval=setInterval(function(){var iframeBody=w.window.document.getElementsByTagName("body")[0];if(iframeBody){var iframeWidth=iframeBody.clientWidth;var bodyWidth=$SA.body.clientWidth;if(iframeWidth!=null&&bodyWidth!=null){$SA.setTriggerCSS({right:(bodyWidth-iframeWidth)+"px"});}}},1000);}}}
catch(e){}}},showMagicIframe:function(){$SA.dom.style($SA.support.magicIframe,{display:"block"});},createMagicIframe:function(){if(!$SA.mobile){var $this=this;if($this.magicIframe==null){var a=$Sizzle("a[href]");if(a.length){for(var i=0;i<a.length;i++){var href=$SA.dom.attr(a[i],"href");var target=$SA.dom.attr(a[i],"target");if(href!=null&&(!target||target==null||target=="_self")&&(href.indexOf(':')==-1||href.indexOf('://')!=-1)&&href.length&&(href.indexOf('#')==-1||($SA.location.href()+"#").indexOf(href)==-1)&&href.split("#")[0]!=$SA.location.href().split("#")[0]&&(href.indexOf('://')==-1||href.indexOf($SA.location.protocol())==0)&&a[i].getAttribute("onClick")==null){a[i].target="onlineSupportClonePageIframe";if(href!=null&&href.length&&href.indexOf('#')==-1){$SA.listen("click",a[i],function(event,element){event=event||window.event;var button=event.which||event.button;if(!event.ctrlKey&&!event.metaKey&&button==1&&element.target=="onlineSupportClonePageIframe"){$SA.support.showMagicIframe();}});}}}}
$this.magicIframe=$SA.createBigIframe("onlineSupportClonePageIframe","onlineSupportClonePageIframe");setTimeout(function(){$this.magicIframe.setAttribute("onLoad","$SA.support.magicIframeLoaded();");},200);return $this.magicIframe;}}
return false;},scrollTopWas:-1,open:function(){var $this=this;if($SA.free()){var date=new Date();var days=0.045;date.setTime(date.getTime()+(days*24*60*60*1000));var expires=date.toGMTString();$SA.cookie.set("s_f_l",1,expires);}
if($this.ready){if(!$this.isOpened){if($SA.mobile){if(document.body)$this.scrollTopWas=document.body.scrollTop;$SA.dom.addClass($SA.body,"mobileSupportOpened");var head=$Sizzle("head");if(head[0]!=null){var meta1=document.createElement("meta");meta1.setAttribute("id","supportMeta1");var v="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0";meta1.setAttribute("content",v);meta1.setAttribute("name","viewport");head[0].appendChild(meta1);meta1.setAttribute("content",v);}}
$this.rpcActions.hideNewMessage();$this.windowResized();$this.isOpened=true;$SA.support.hideTrigger();$SA.dom.fadeIn($this.container,200);$this.post("open",{});if(!$SA.iOS){$this.createMagicIframe();}
$SA.openSupportCallback();}}
else{$this.init({loadContainerStartedCallback:function(){var div=document.createElement('div');$SA.dom.appendStyle("dotsLoader",'@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } } @keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } } @keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } } @-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } } @-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } } @-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } } .dots span { animation: dots-1 1s infinite steps(1); -webkit-animation: dots-1 1s infinite steps(1); } .dots span:first-child + span { animation-name: dots-2; -webkit-animation-name: dots-2; } .dots span:first-child + span + span { animation-name: dots-3; -webkit-animation-name: dots-3; }');div.innerHTML="Подождите, идёт загрузка<span class='dots'><span>.</span><span>.</span><span>.</span></span>";$SA.dom.hide($this.container);$SA.dom.hide($Sizzle("#onlineSupportContainer > iframe")[0]);$SA.dom.style($this.container,{transition:$this.triggerTransition});div.id="supportContainerLoading";$this.container.appendChild(div);$this.isOpened=true;$SA.support.rpcActions.initMinSize({width:300,height:300,fake:true});$this.isOpened=false;var pos=$this.applyNewPosition({action:"drag"});$SA.dom.style(div,{left:$this.padding+"px",right:$this.padding+"px",top:$this.padding+"px",bottom:$this.padding+"px",position:"absolute",display:"block",textAlign:"center",zIndex:9999999,fontSize:"14px",lineHeight:(pos.height-$this.padding*2)+"px",background:$SA.dom.convertHex2rgba("#"+$SA.siteParams.triggerParams.background,75),color:"#"+$SA.siteParams.triggerParams.color});$this.showTriggerBlocked=true;$this.hideTrigger();$SA.dom.show($this.container);},initMinSizeCallback:function(){$SA.dom.show($Sizzle("#onlineSupportContainer > iframe")[0]);var loader=document.getElementById("supportContainerLoading");if(loader!=null){$this.container.removeChild(loader);}
$SA.dom.style($this.container,{transition:"none"});$this.showTriggerBlocked=false;}});setTimeout(function(){$this.open();},50);}},close:function(){var $this=this;if(this.isOpened&&this.supportContainerType!="inline"){this.isOpened=false;if($SA.mobile){$SA.dom.removeClass($SA.body,"mobileSupportOpened");var head=$Sizzle("head")[0];if(head!=null){var meta=$Sizzle("#supportMeta1")[0];if(meta!=null){var initialMeta=$Sizzle("meta[name=viewport]:not(#supportMeta1)")[0];var content="";if(initialMeta!=null)content=initialMeta.getAttribute("content");meta.setAttribute("content",content);head.removeChild(meta);if(document.body&&$this.scrollTopWas!=-1)document.body.scrollTop=$this.scrollTopWas;}}}
$SA.support.showTrigger();$SA.dom.fadeOut(this.container,200);}},toggle:function(){if(this.isOpened)this.close();else this.open();},getWindowSize:function(){var myWidth=0,myHeight=0;if(typeof(window.innerWidth)=='number'){myWidth=window.innerWidth;myHeight=window.innerHeight;}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){myWidth=document.documentElement.clientWidth;myHeight=document.documentElement.clientHeight;}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){myWidth=document.body.clientWidth;myHeight=document.body.clientHeight;}
return{width:myWidth,height:myHeight};},windowResized:function(){var size=this.getWindowSize();this.windowWidth=size.width;this.windowHeight=size.height;if($SA.support.triggerCentered){$SA.support.initTrigger(null,true);}
else{this.applyNewPosition({action:"drag"});}
this.applyNewPosition({action:"resize"});},getDragHelper:function(container){var padding=$SA.support.padding;var div=document.createElement('div');$SA.dom.style(div,{left:padding+"px",right:padding+"px",top:padding+"px",bottom:padding+"px",opacity:0,position:"absolute",display:"none",zIndex:9999999,cursor:"move"});container.appendChild(div);return div;},initWasStarted:false,initMinSizeCallback:null,init:function(p){var $this=this;if($this.initWasStarted)return;$this.initWasStarted=true;if(p==null)p={};if(p.initMinSizeCallback!=null){$this.initMinSizeCallback=p.initMinSizeCallback;}
$SA.load.loadScript($SA.getDomain()+$SA.load.javascriptDir+"easyXDM/stack/all.js",function(){var loadSupport=!$SA.inMagicIframe();$this.loadSupport=loadSupport;$this.container=document.getElementById("onlineSupportContainer");if($this.container!=null)$this.supportContainerType="inline";window.onresize=function(){$this.windowResized();};$SA.listen("focus",document,function(e){$SA.support.elementWasFocused();},true);$SA.listen("blur",document,function(e){$SA.support.elementWasBlured();},true);$SA.ready(function(){var $this=$SA.load;if(!$SA.free()){$SA.reviews.init();$SA.subscribe.init();}
if(!$SA.browser.init.operator()){$SA.browser.init.client();}
if($SA.browser.enabled){if(!$SA.browser.getDontSendChangeUrl()||$SA.browser.type=="client"){var url=$SA.urlWithoutHash($SA.location.href());$SA.browser.cometPublish({action:"changeUrl",data:{url:url}});}
$SA.browser.setDontSendChangeUrl(false);}
var f=function(){if($SA.SA().support.isOpened){$SA.SA().pulsate.reset();}};$SA.listen("keydown",document,f);$SA.listen("mousemove",document,f);if(!loadSupport){$SA.targetAllExternalLinksToParent();return;}
var $this=$SA.support;if($this.container==null){$this.container=document.createElement('div');if($SA.mobile)var display="none";else var display="block";$this.container.id="onlineSupportContainer";$SA.dom.style($this.container,{position:"fixed",top:$this.x+"px",left:$this.y+"px",width:$this.width+"px",height:$this.height+"px",zIndex:10000000,display:display,visibility:"hidden",background:"none",overflow:"hidden",opacity:0});$SA.body.appendChild($this.container);var padding=$SA.support.padding;$this.dragHelper1=$SA.support.getDragHelper($this.container);$this.dragHelper2=$SA.support.getDragHelper($SA.body);$SA.dom.style($this.dragHelper2,{position:"fixed"});var $drag=false;var $resize=false;var $x=false;var $y=false;var $offsetX=false;var $offsetY=false;var css=document.createElement('style');css.type='text/css';var styles="#onlineSupportContainer, #onlineSupportContainer *::selection {background:transparent;} #onlineSupportContainer, #onlineSupportContainer *::-moz-selection { background:transparent; } #onlineSupportContainer, #onlineSupportContainer *::-webkit-selection { background:transparent; } body.mobileSupportOpened{ overflow:hidden; -webkit-overflow-scrolling:touch; width:auto; min-width: 1px; min-height: 0px; position:initial; } body.mobileSupportOpened > * { display:none !important; } body.mobileSupportOpened > #onlineSupportContainer { display:block !important; } #onlineSupportContainer iframe, .phonebookSubscribe iframe, #onlineSupportReviews iframe{ max-height:none !important;}";if(css.styleSheet)css.styleSheet.cssText=styles;else css.appendChild(document.createTextNode(styles));$SA.body.appendChild(css);$this.dragArea=document.createElement('div');$this.dragArea.id="dragArea";if($SA.siteParams.style=="flat"){var dragHeight=15;var dragRight=26;}
else{var dragHeight=32;var dragRight=48;}
$SA.dom.style($this.dragArea,{opacity:0,top:2+padding+"px",left:2+padding+"px",right:dragRight+padding+"px",height:dragHeight+"px",cursor:'move',position:'absolute',zIndex:10000000});$this.container.appendChild($this.dragArea);if($SA.device.mobile()){$SA.dom.style($this.dragArea,{right:2+padding+"px"});$SA.listen("click",$this.dragArea,function(e){$SA.support.close();});}
else{$SA.listen("mousedown",$this.dragArea,function(e){$SA.dom.show($this.dragHelper1);$SA.dom.show($this.dragHelper2);$drag=true;$x=e.clientX-parseInt($this.container.style.left)-padding;$y=e.clientY-parseInt($this.container.style.top)-padding;});}
var resizeDiv=document.createElement('div');$SA.dom.style(resizeDiv,{opacity:0,bottom:0+padding+"px",right:0+padding+"px",width:16+"px",height:16+"px",cursor:'se-resize',zIndex:10000000,position:"absolute"});$this.container.appendChild(resizeDiv);$SA.listen("mousedown",resizeDiv,function(e){$SA.dom.show($this.dragHelper1);$SA.dom.show($this.dragHelper2);$resize=true;$x=e.clientX;$y=e.clientY;});$SA.listen("mouseup",$SA.body,function(e){$SA.dom.hide($this.dragHelper1);$SA.dom.hide($this.dragHelper2);$drag=false;$resize=false;});$SA.listen("mousemove",$SA.body,function(e){if($drag){var pos=$this.applyNewPosition({x:(e.clientX-$x),y:(e.clientY-$y),action:"drag"});}
else if($resize){var pos=$this.applyNewPosition({width:$this.width+(e.clientX-$x),height:$this.height+(e.clientY-$y),action:"resize"});$x=e.clientX;$y=e.clientY;}});}
$this.socket=new easyXDM.Socket({remote:$SA.getDomain("https")+"/support/support.html?type="+$this.supportContainerType,onMessage:$this.onMessage,container:$SA.support.container,onReady:function(){$this.socketReady=true;}});if(p.loadContainerStartedCallback!=null){p.loadContainerStartedCallback();}});});},scrollbarWidthCache:null,scrollbarWidth:function(){if(this.scrollbarWidthCache!=null)return this.scrollbarWidthCache;var outer=document.getElementById("support-scrollbar-width-outer");if(!outer){outer=document.createElement("div");outer.style.visibility="hidden";outer.style.position="absolute";outer.style.background="none";outer.style.top="0px";outer.style.left="0px";outer.style.msOverflowStyle="scrollbar";outer.id="support-scrollbar-width-outer";}
document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.getElementById("support-scrollbar-width-inner");if(!inner){inner=document.createElement("div");inner.style.width="100%";inner.id="support-scrollbar-width-inner";outer.appendChild(inner);}
var widthWithScroll=inner.offsetWidth;this.scrollbarWidthCache=widthNoScroll-widthWithScroll;return this.scrollbarWidthCache},applyNewPosition:function(p){if(this.supportContainerType!="dialog")return{x:0,y:0,width:'100%',height:'100%'};if($SA.mobile){var padding=$SA.support.padding;$SA.dom.style(this.container,{left:(0-padding)+"px",top:(0-padding)+"px",right:(0-padding)+"px",bottom:(0-padding)+"px",width:"auto",height:"auto",position:"fixed"});return{};}
else{var padding=$SA.support.padding;if(p==null)p={};if(p.x==null)p.x=this.x;if(p.y==null)p.y=this.y;if(p.width==null)p.width=this.width;if(p.height==null)p.height=this.height;if(p.action==null)p.action="drag";if(p.width<this.minWidth)p.width=this.minWidth;if(p.height<this.minHeight)p.height=this.minHeight;var windowWidth=this.windowWidth;windowWidth-=this.scrollbarWidth();if($SA.siteParams.style=="flat"){}
if(p.x+p.width>windowWidth+padding*2){if(p.action=="drag"){p.x=windowWidth-p.width+padding*2;}
else if(p.action=="resize"){p.width=windowWidth-p.x+padding*2;}}
if(p.x<0){if(p.action=="drag"){p.x=0;}}
if(p.y+p.height>this.windowHeight+padding*2){if(p.action=="drag"){p.y=this.windowHeight-p.height+padding*2;}
else if(p.action=="resize"){p.height=this.windowHeight-p.y+padding*2;}}
if(p.y<0){if(p.action=="drag"){p.y=0;}}
this.x=p.x;this.y=p.y;this.width=p.width;this.height=p.height;$SA.dom.style(this.container,{left:(p.x-padding)+"px",top:(p.y-padding)+"px",width:p.width+"px",height:p.height+"px"});if(p.action=="resize")$SA.support.post("resize",{});return{x:p.x,y:p.y,width:p.width,height:p.height};}},triggerType:false,triggerFirstLoad:true,mobileTrigger:function(){if($SA.allowMobileTrigger){if($SA.device.mobile()&&$SA.siteParams.params.trigger.mobile.type=="mobile")return true;if($SA.device.tablet()&&$SA.siteParams.params.trigger.tablet.type=="mobile")return true;}
return false;},getTriggerData:function(type){var data=$SA.siteParams.triggerParams;var id=$SA.siteParams.id;var retina=window.devicePixelRatio>1;if(type=="offline"&&(!data.offlineText.length||$SA.free()))type="online";if(type=="online"){var text=data.text;var width=data.width;var height=data.height;var img=retina?id+"_online@2x.png":id+"_online.png";}
else{var text=data.offlineText;var width=data.offlineWidth;var height=data.offlineHeight;var img=retina?id+"_offline@2x.png":id+"_offline.png";}
if(data.forceBottom){img="bottom_"+img;}
img=$SA.getDomain()+data.path+img;return{src:img+"?r="+$SA.siteParams.dtChange,width:width,height:height,text:text,type:type,retina:retina};},triggerAlwaysHidden:function(){var type=false;if($SA.device.mobile())type=$SA.siteParams.params.trigger.mobile.type;else if($SA.device.tablet())type=$SA.siteParams.params.trigger.tablet.type;return type=="hidden";},initTrigger:function(type,force){if(!this.loadSupport&&!$SA.freePreLoad)return;if(type==null)type="online";var $this=this;var data=$SA.siteParams.triggerParams;var p=this.getTriggerData(type);if(p.type==this.triggerType&&!force)return;this.triggerType=p.type;var rgb=$SA.hexToRgb("#"+data.background);var needAppend=false;if(this.trigger==null){needAppend=!this.triggerAlwaysHidden();this.trigger=document.createElement('div');$SA.listen("click",this.trigger,function(){$SA.support.open();});var tmp;$SA.listen("touchstart",this.trigger,function(e){tmp=e.target;});$SA.listen("touchend",this.trigger,function(e){if(e.target==tmp){setTimeout(function(){$SA.support.open();},300);}});if($SA.siteParams.offlineMode=="hide"&&this.lastShowTriggerValue==false&&!$SA.freePreLoad){$SA.dom.addClass(this.trigger,"supportTriggerHidden");}
if(!$SA.support.mobileTrigger()&&data.copyrightWidth){var copyrightIMG=document.createElement('div');copyrightIMG.id="supportCopyrightIMG";var css={position:"absolute"};data.textOffset=parseInt(data.textOffset);data.copyrightWidth=parseInt(data.copyrightWidth);data.width=parseInt(data.width);data.height=parseInt(data.height);data.round=parseInt(data.round);if(data.position=="left"||data.position=="right"){css.top=data.textOffset+"px";css.left="0px";css.right="0px";css.height=data.copyrightWidth+"px";}
else{css.top="0px";css.bottom="0px";css.right=data.textOffset+"px";css.width=data.copyrightWidth+"Px";}
$SA.dom.style(copyrightIMG,css);this.trigger.appendChild(copyrightIMG);var imgHeight=24;var padding=11;var copyrightImgURL=$SA.getDomain()+'/API/DOCS/onlineSiteDealerParams/'+$SA.siteParams.dealerID+'/';if(data.backgroundType=="light")copyrightImgURL+="copyright_dark.png";else copyrightImgURL+="copyright_light.png";copyrightImgURL+="?t="+$SA.siteParams.dtChange;copyrightIMG.innerHTML='<div id="supportCopyrightPopup"><div id="supportCopyrightPopupInner"><span>Чат предоставлен</span> <a style="margin-left:5px;" href="'+data.copyrightURL+'" target="_blank"><img style="height:'+imgHeight+'px !important;" height="'+imgHeight+'" align="center" src="'+copyrightImgURL+'" /></a></div></div>';var popupCSS="display:block;  position:absolute; vertical-align:middle;";var popupInnerCSS="";var popupInnerAfterCSS="";if(data.position=="right"){popupCSS+="right:"+data.width+"px;";popupInnerCSS+="margin-right:10px;";popupInnerAfterCSS+="border-top: 5px solid transparent;border-bottom: 5px solid transparent;border-left: 5px solid #"+data.background+";right: 5px;top: 18px;";}
else if(data.position=="left"){popupCSS+="left:"+data.width+"px;";popupInnerCSS+="margin-left:10px;";popupInnerAfterCSS+="border-top: 5px solid transparent;border-bottom: 5px solid transparent;border-right: 5px solid #"+data.background+";left: 5px;top: 18px;";}
else if(data.position=="top"){popupCSS+="top:"+data.height+"px; right:-"+data.textOffset+"px;";popupInnerCSS+="margin-top:10px;";popupInnerAfterCSS+="border-right: 5px solid transparent;border-left: 5px solid transparent;border-bottom: 5px solid #"+data.background+";top: 5px;right: "+(data.textOffset+(data.copyrightWidth/2)-10)+"px;";}
else if(data.position=="bottom"){popupCSS+="bottom:"+data.height+"px; right:-"+data.textOffset+"px;";popupInnerCSS+="margin-bottom:10px;";popupInnerAfterCSS+="border-right: 5px solid transparent;border-left: 5px solid transparent;border-top: 5px solid #"+data.background+";bottom: 5px;right: "+(data.textOffset+(data.copyrightWidth/2)-10)+"px;";}
if(data.position=="left"||data.position=="right"){popupCSS+="top:"+((data.copyrightWidth/2)-((imgHeight+padding*2)/2))+"px";}
$SA.dom.prependStyle("supportCopyrightPopupStyle","#supportCopyrightPopup{display:none;} #supportCopyrightIMG:hover #supportCopyrightPopup{"+popupCSS+"} .supportTriggerHidden #supportCopyrightIMG:hover #supportCopyrightPopup{ display:none; } #supportCopyrightPopup *{vertical-align:middle;} #supportCopyrightPopupInner{background:#"+data.background+"; color:#"+data.color+"; white-space:nowrap; padding:"+padding+"px; border-radius:"+(data.round+1)+"px; font-size:14px; line-height:14px; font-family:Arial, sans-serif; "+popupInnerCSS+"} #supportCopyrightPopupInner:after{width: 0;height: 0;position: absolute;content: '';"+popupInnerAfterCSS+"} #supportCopyrightPopupInner a img{ border:0px; max-width:none; } #supportCopyrightPopupInner a{ text-decoration:none; border:0; vertical-align:top !important;}");}}
if(rgb!=null){var initShadow="0px 0px 10px rgba("+rgb.r+","+rgb.g+","+rgb.b+",.5)";}
else var initShadow="none";var css={position:"fixed",zIndex:2147483648,cursor:"pointer",boxShadow:initShadow};if(this.supportContainerType=="inline")css.display="none";if(!$SA.support.mobileTrigger()){this.trigger.id="supportTrigger";css.transition=$this.triggerTransition;css.backgroundRepeat="no-repeat";css.width=p.width;css.height=p.height;css.backgroundImage="url('"+p.src+"')";if(p.retina){css.backgroundSize=p.width+"px "+p.height+"px";}
var borderRadius=0;if(data.round)borderRadius=data.round;if(data.position=="left"||data.position=="right"){var supportTriggerHiddenCSS=data.position+": -"+(p.width+10)+"px !important;";if(this.triggerCentered||data.offset==-999999){this.triggerCentered=true;data.offset=$this.windowHeight/2-css.height/2;}
if(data.offset>0){css.top=data.offset;if(css.top+css.height>$this.windowHeight)css.top=$this.windowHeight-css.height;}
else{css.bottom=-1*data.offset;if(css.bottom+css.height>$this.windowHeight)css.bottom=$this.windowHeight-css.height;}
if(data.position=="left"){css.left=0;if(borderRadius){css.borderRadius="0px "+borderRadius+"px "+borderRadius+"px 0px";}}
else{css.right=0;if(borderRadius){css.borderRadius=borderRadius+"px 0px 0px "+borderRadius+"px";}}}
else{var supportTriggerHiddenCSS=data.position+": -"+(p.height+10)+"px !important;";if(this.triggerCentered||data.offset==-999999){this.triggerCentered=true;data.offset=$this.windowWidth/2-css.width/2;}
if(data.offset>0){css.right=data.offset;}
else{css.left=-1*data.offset;}
if(data.position=="top"){css.top=0;if(borderRadius){css.borderRadius="0px 0px "+borderRadius+"px "+borderRadius+"px";}}
else{css.bottom=0;if(borderRadius){css.borderRadius=borderRadius+"px "+borderRadius+"px 0px 0px";}}}
css.height+="px";css.width+="px";if(css.right!=null)css.right+="px";if(css.top!=null)css.top+="px";if(css.left!=null)css.left+="px";if(css.bottom!=null)css.bottom+="px";$SA.support.triggerCSS=css;$SA.dom.prependStyle("supportTriggerHiddenStyle",".supportTriggerHidden{"+supportTriggerHiddenCSS+"}");var removeHiddenClass=false;if(this.triggerFirstLoad){if(!$SA.dom.hasClass(this.trigger,"supportTriggerHidden")){$SA.dom.addClass(this.trigger,"supportTriggerHidden");removeHiddenClass=true;}}
$SA.dom.style(this.trigger,css);var css=$SA.dom.getStyle(this.trigger);$SA.dom.prependStyle("supportTriggerStyle",".supportTrigger{"+css+"}");this.trigger.removeAttribute("style");$SA.dom.addClass(this.trigger,"supportTrigger");}
else{var supportTriggerHiddenCSS="display:none;";this.trigger.id="supportTriggerMobile";this.trigger.innerHTML=p.text;css.background="#"+$SA.siteParams.triggerParams.background;css.color="#"+$SA.siteParams.triggerParams.color;css.bottom="0px";css.left="2px";css.right="2px";css.fontSize="14px";css.padding="10px 20px";css.lineHeight="14px";css.textAlign="center";css.border="1px solid #"+$SA.lightenDarkenColor($SA.siteParams.triggerParams.background,-5);css.borderBottom="none";css.height="auto";css.transition=$this.triggerTransition;css['border-top-left-radius']=$SA.siteParams.triggerParams.round*2+"px";css['border-top-right-radius']=$SA.siteParams.triggerParams.round*2+"px";$SA.support.triggerCSS=css;$SA.dom.style(this.trigger,css);var css=$SA.dom.getStyle(this.trigger);$SA.dom.prependStyle("supportTriggerStyle",".supportTriggerMobile{"+css+"}");this.trigger.removeAttribute("style");$SA.dom.addClass(this.trigger,"supportTriggerMobile");setInterval(function(){if(document.getElementById("supportTriggerMobile")){var e=0,t=290,i=500;var n=window.innerWidth||window.pageXOffset||document.documentElement.clientWidth||document.getElementsByTagName("html")[0];var o=(n/t).toFixed(3);if(window.matchMedia("(orientation: landscape)").matches||Math.abs(window.orientation)===90){o=(n/i).toFixed(3)}
if(o!=e){document.getElementById("supportTriggerMobile").style["zoom"]=o;if($SA.support.supportNewMessage!=null){$SA.support.supportNewMessage.style["zoom"]=o;}
e=o;}}},100)
if(needAppend){$SA.listen("touchstart",document,function(){$SA.dom.style($SA.support.trigger,{"bottom":"-100px"});clearTimeout($SA.support.returnMobileTriggerTimeout);});$SA.listen("touchstart",document,function(){$SA.support.returnMobileTriggerTimeout=setTimeout(function(){$SA.dom.style($SA.support.trigger,{"bottom":"0px"});},2000);});}
$SA.dom.prependStyle("supportTriggerHiddenStyle",".supportTriggerHidden{"+supportTriggerHiddenCSS+"}");}
this.triggerFirstLoad=false;if(needAppend){$SA.body.appendChild(this.trigger);var popup=document.getElementById("supportCopyrightPopup");if(popup){$SA.listen("click",popup,function(e){if(typeof e.stopPropagation=="function")e.stopPropagation();});}}
if(removeHiddenClass){if(window.getComputedStyle!=null){window.getComputedStyle(this.trigger).right;window.getComputedStyle(this.trigger).left;window.getComputedStyle(this.trigger).top;window.getComputedStyle(this.trigger).bottom;}
$SA.dom.removeClass(this.trigger,"supportTriggerHidden");}},returnMobileTriggerTimeout:null,post:function(action,data){var $this=this;if($this.socketReady){$this.socket.postMessage(supportJSON.toJSON({action:action,data:data}));}
else setTimeout(function(){$this.post(action,data);},100);},onMessage:function(message){var $this=$SA.support;message=supportJSON.parseJSON(message);if($this.rpcActions[message.action]!=null){$this.rpcActions[message.action](message.data);}},rpcActions:{alert:function(data){return $SA.alert(data.text);},close:function(){$SA.support.close();},open:function(){return $SA.support.open();},init:function(){var $this=$SA.support;$this.iframe=$SA.load.initIframe($this.container);$SA.siteParams.type="support";$SA.support.post("init",$SA.siteParams);},minSizeInited:false,prevMinWidth:false,getContactsCallback:function(data){$SA.getContactsCallback(data);},initMinSize:function(p){var $realThis=this;var $this=$SA.support;if(p.width){if(p.width<$SA.siteParams.minWidth){p.width=$SA.siteParams.minWidth;}
this.prevMinWidth=p.width;}
else p.width=this.prevMinWidth;if(p.height){if(p.height<$SA.siteParams.minHeight){p.height=$SA.siteParams.minHeight;}}
if($SA.siteParams.triggerParams.offlineText&&$SA.siteParams.triggerParams.offlineText!=$SA.siteParams.triggerParams.text){if($SA.support.triggerFirstLoad)return setTimeout(function(){$realThis.initMinSize(p);},300);}
else $SA.support.initTrigger();if($this.supportContainerType!="inline"){$this.minWidth=p.width+$this.padding*2;$this.minHeight=p.height;if(!p.heightWithoutPadding)$this.minHeight+=$this.padding*2;$this.applyNewPosition();if(!this.minSizeInited||p.fake){if(!p.fake){$this.ready=true;this.minSizeInited=true;}
var $this=$SA.support;var trigger=$SA.support.trigger;var triggerParams=$SA.siteParams.triggerParams;if(triggerParams.position=="top"||triggerParams.position=="bottom"){$this.x=parseInt($this.windowWidth)-parseInt($SA.support.triggerCSS.right)-parseInt($this.width)+$this.padding*2;if(triggerParams.position=="top"){$this.y=parseInt($SA.siteParams.triggerParams.height);}
else{$this.y=parseInt($this.windowHeight)-parseInt($this.height)-parseInt($SA.siteParams.triggerParams.height)+$this.padding*2;}}
else{var triggerTop=$SA.support.triggerCSS.top;if(triggerTop==null){var triggerBottom=$SA.support.triggerCSS.bottom;if(triggerBottom!=null){triggerBottom=parseInt(triggerBottom);triggerTop=$SA.support.windowHeight-triggerBottom-$this.minHeight;}}
$this.y=parseInt(triggerTop);if(triggerParams.position=="right"){$this.x=parseInt($this.windowWidth)-parseInt($SA.siteParams.triggerParams.width)-parseInt($this.width)+$this.padding*2;}
else{$this.x=parseInt($SA.siteParams.triggerParams.width);}}
if(!$this.isOpened){$SA.dom.hide($SA.support.container);}}}
else{if(!p.fake){$this.ready=true;this.minSizeInited=true;}}
if($SA.support.initMinSizeCallback!=null&&!p.fake){$SA.support.initMinSizeCallback();$SA.support.initMinSizeCallback=null;}
$SA.fullyLoadedCallback();},selectOperator:function(username){supportStorage.set("supportOperator",username);},channelUpdate:function(p){supportStorage.set("supportDate",p.date);supportStorage.set("supportEtag",p.etag);},listenStart:function(){var date=new Date();var days=0.2;date.setTime(date.getTime()+(days*24*60*60*1000));var expires=date.toGMTString();$SA.cookie.set("supportListen",1,expires);},refuseEnterName:function(){supportStorage.set("refuseEnterName",1);},allowSendAutoMessage:function(data){supportStoreWithExpiration.set("allowSendAutoMessage",data.value,$SA.disallowSendAutoMessageTime*1000);},clientSendMessage:function(data){$SA.clientSendMessageCallback(data);},refuseSendRate:function(){$SA.refuseSendRate();},enableDrag:function(){$SA.support.dragArea.show();},disableDrag:function(){$SA.support.dragArea.hide();},rateSended:function(data){$SA.sendRateCallback(data);},hideNewMessage:function(data){clearTimeout(this.autoHideNewMessageTimeout);$SA.dom.hide($SA.support.supportNewMessage);$SA.pulsate.reset();$SA.support.newMessageDisplayed=false;if($SA.support.mobileTrigger())$SA.support.showTrigger();},startPulsate:function(){$SA.pulsate.start();},autoHideNewMessageTimeout:null,showNewMessage:function(data){var $this=$SA.support;$SA.pulsate.start();if(!$this.isOpened){if($this.supportNewMessage==null){if($SA.ie)var bg=$SA.newMessageBackgroundIE;else var bg=$SA.newMessageBackground;$this.supportNewMessage=document.createElement("div");$this.supportNewMessage.id="supportNewMessage";$this.supportNewMessage.setAttribute("class","supportNewMessage");$this.supportNewMessage.innerHTML+='<div id="supportNewMessageAvatar" class="supportNewMessageAvatar"><img id="supportNewMessageAvatarImg" class="supportNewMessageAvatarImg" /></div><div class="supportNewMessageClose" id="supportNewMessageClose">×</div><div class="supportNewMessageName" id="supportNewMessageName"></div><div id="supportNewMessageText" class="supportNewMessageText"></div>';$SA.body.appendChild($this.supportNewMessage);$this.supportNewMessage=$Sizzle('#supportNewMessage')[0];$SA.listen("click",$this.supportNewMessage,function(e){if(typeof e.stopPropagation=="function")e.stopPropagation();$this.open();$this.rpcActions.hideNewMessage();});$SA.listen("click",$Sizzle('#supportNewMessageClose')[0],function(e){if(typeof e.stopPropagation=="function")e.stopPropagation();$this.rpcActions.hideNewMessage();});var style='text-shadow:none;font-size:12px;position:fixed;padding:10px;background:'+bg+';color:'+$SA.newMessageColor+';display:none;z-index:9999999;text-align:left;border-radius:5px;cursor:pointer;line-height:1.5em;';if($SA.device.mobile()){style+="bottom:5px; left:5px; right:5px;";}
else{style+="bottom:15px;left:15px;width:300px;";}
$SA.dom.appendStyle("supportNewMessageStyle",'.supportNewMessage{'+style+'} .supportNewMessageAvatar{float:left;width:1px;margin:0;} .supportNewMessageAvatarImg{width:35px; max-width:35px; min-width:35px; height:35px; min-heigth:35px; max-height:35px; } .supportNewMessageName{ font-family: Arial; color:'+$SA.newMessageColor+'; font-weight: bold; margin-bottom:5px; margin-left: 45px; margin-right:30px; line-height:1em;} .supportNewMessageClose{ font-family: Arial; color:'+$SA.newMessageColor+'; font-weight: bold; float:right; cursor:pointer; line-height:1em; margin-top:-1px; width: 15px; text-align: center; height: 15px; margin-right: -4px; opacity: 0.5; } .supportNewMessageClose:hover{ opacity:1; } .supportNewMessageText{ color:'+$SA.newMessageColor+'; font-family: Arial; margin-left: 45px; }');}
if(data.message.length>$SA.support.newMessageNotificationLength)data.message=data.message.substr(0,$SA.support.newMessageNotificationLength)+"...";document.getElementById("supportNewMessageAvatarImg").src=data.avatar;document.getElementById("supportNewMessageName").innerHTML=data.name;document.getElementById("supportNewMessageText").innerHTML=data.message;$SA.dom.fadeIn($this.supportNewMessage,300);$this.newMessageDisplayed=true;if($SA.support.mobileTrigger())$SA.support.hideTrigger();var autoClose=parseInt($SA.siteParams.params.newMessageNotification.autoCloseNotify);if(autoClose){clearTimeout(this.autoHideNewMessageTimeout);this.autoHideNewMessageTimeout=setTimeout(function(){$this.rpcActions.hideNewMessage();},autoClose*1000);}}},listenOperatorsStatus:function(data){$SA.listenOperatorsStatusCallback(data.online);if(data.online.length){$SA.support.initTrigger("online");}
else{$SA.support.initTrigger("offline");}},showSupportTrigger:function(){$SA.support.showTrigger();},hideSupportTrigger:function(){$SA.support.hideTrigger();},cometListen:function(row){var $this=this;if(row.data.action!=null&&$this.cometListenActions[row.data.action]!=null){$this.cometListenActions[row.data.action](row.cid,row.data.data,row.data.url);}},cometListenActions:{browserEvents:function(cid,data,url){var e=$SA.browser.events;var iframe=$SA.getContentIframe();$SA.browser.listener.receiveMessage();if(iframe){iframe.contentWindow.$SA.support.rpcActions.cometListenActions.browserEvents(cid,data,url);}
else if($SA.browser.inCurrentContentFrame()){var url=$SA.urlWithoutHash(url);if(data.mousemove!=null||data.forms!=null||data.clicks!=null||data.pointer!=null){var changeUrl=e.changeUrl({url:url});if(!changeUrl){if(data.mousemove!=null)e.mousemove.receive(data.mousemove);if(data.forms!=null)e.forms.receive(data.forms);if(data.click!=null)e.click.receive(data.click);if(data.pointer!=null)e.pointer.receive(data.pointer);}}}},changeUrl:function(cid,data){$SA.browser.listener.receiveMessage();var iframe=$SA.getContentIframe();if(iframe){iframe.contentWindow.$SA.support.rpcActions.cometListenActions.changeUrl(cid,data);}
else if($SA.browser.inCurrentContentFrame()||$SA.browser.type=="operator"){$SA.browser.events.changeUrl(data);}}},initCoopBrowserServer:function(data){supportStorage.set("browser::operator",data.operator);$SA.browser.init.client({force:true});var iframe=$SA.getContentIframe();if(iframe)iframe.contentWindow.$SA.support.rpcActions.initCoopBrowserServer(data);},restartCoopBrowser:function(data){$SA.browser.init.client({force:true});$SA.browser.setMode(data.mode);var iframe=$SA.getContentIframe();if(iframe)iframe.contentWindow.$SA.support.rpcActions.restartCoopBrowser(data);}}},reviews:{socket:null,container:null,params:{},init:function(){var $this=this;$this.container=document.getElementById("onlineSupportReviews");if($this.container!=null){$this.params.limit=$this.container.getAttribute("data-limit");if($this.params.limit==null){$this.params.limit=0;}
$this.params.pagination=$this.container.getAttribute("data-pagination");if($this.params.pagination==null)$this.params.pagination=1;$this.params.paginationType=$this.container.getAttribute("data-pagination-type");if($this.params.paginationType==null)$this.params.paginationType="expand";$this.params.description=$this.container.getAttribute("data-description");if($this.params.description==null)$this.params.description=1;$this.params.allSites=$this.container.getAttribute("data-all-sites");if($this.params.allSites==null)$this.params.allSites=0;$this.params.autoWidth=$this.container.getAttribute("data-auto-width");if($this.params.autoWidth==null)$this.params.autoWidth=1;$this.params.maxLength=$this.container.getAttribute("data-max-length");if($this.params.maxLength==null)$this.params.maxLength=0;$this.params.displayNames=$this.container.getAttribute("data-display-names");if($this.params.displayNames==null)$this.params.displayNames=1;$this.params.displayCity=$this.container.getAttribute("data-display-city");if($this.params.displayCity==null)$this.params.displayCity=0;$SA.dom.hide($this.container);$this.socket=new easyXDM.Socket({remote:$SA.getDomain()+"/support/reviews.html",container:$this.container,onMessage:$this.onMessage});setTimeout(function(){$SA.dom.show($this.container);},500);}},post:function(action,data){this.socket.postMessage(supportJSON.toJSON({action:action,data:data}));},onMessage:function(message){var $this=$SA.reviews;message=supportJSON.parseJSON(message);if($this.rpcActions[message.action]!=null){$this.rpcActions[message.action](message.data);}},rpcActions:{alert:function(data){return $SA.alert(data.text);},init:function(){var $this=$SA.reviews;$this.iframe=$SA.load.initIframe($this.container);var p=supportJSON.parseJSON(supportJSON.toJSON($SA.siteParams));p.reviewsParams=$this.params;p.type="reviews";$SA.reviews.post("init",p);},changeReviewsHeight:function(data){var $this=$SA.reviews;$SA.dom.style($this.container,{"height":data.height+"px"});},openReviewsTab:function(){$SA.openReviewsTab();}}},subscribe:{list:[],init:function(){var $this=this;var list=$Sizzle("div.phonebookSubscribe");if(list.length){for(var key=0;key<list.length;key++){$this.makeIframe(list[key]);};}},makeIframe:function(div){var $this=this;var id=div.getAttribute("data-id");if($SA.siteParams.subscribes[id]!=null){div.innerHTML="";var i=$this.list.length;var socket=new easyXDM.Socket({remote:$SA.getDomain("https")+"/support/subscribe.html",container:div,onMessage:function(message){$this.onMessage(i,message);}});$this.list.push({container:div,socket:socket,id:id});}},post:function(i,action,data){this.list[i].socket.postMessage(supportJSON.toJSON({action:action,data:data}));},onMessage:function(i,message){var $this=$SA.subscribe;message=supportJSON.parseJSON(message);if($this.rpcActions[message.action]!=null){$this.rpcActions[message.action](i,message.data);}},rpcActions:{alert:function(i,data){return $SA.alert(data.text);},init:function(i,data){var $this=$SA.subscribe;$this.iframe=$SA.load.initIframe($this.list[i].container);var style=$this.list[i].container.getAttribute("data-style");if(style==null)style="";var p=supportJSON.parseJSON(supportJSON.toJSON($SA.siteParams));p.type="subscribe";p.subscribeID=$this.list[i].id;p.dopStyle=style;$SA.subscribe.post(i,"init",p);},changeSubscribeHeight:function(i,data){var $this=$SA.subscribe;$SA.dom.style($this.list[i].container,{height:data.height+"px"});}}},pulsate:{interval:true,enabled:true,initialTitle:null,parentTitleValue:null,newMessageTitle:"Вам новое сообщение!",start:function(){if(this.enabled){this.reset();this.make();}},enable:function(){this.enabled=true;},disable:function(){this.enabled=false;},make:function(){var $this=this;$this.interval=setInterval(function(){$this.intervalAction();},400);},intervalAction:function(){var $this=this;var value=document.title;if(value==$this.newMessageTitle){document.title=$this.initialTitle;}
else{document.title=$this.newMessageTitle;}},reset:function(){if(this.interval){clearInterval(this.interval);this.interval=false;if(this.initialTitle==null){this.initialTitle=document.title;}
document.title=this.initialTitle;}}},browser:{type:"client",mode:false,enabled:false,operatorIframe:null,setMode:function(mode){this.mode=mode;if(this.type=="operator"){if(top==window){this.sendCommandToRestartCoopBrowser();var hash=window.browsercidHash;hash=hash.replace('&'+this.getMode(false)+'&','&'+mode+'&');window.location.hash=hash;window.browsercidHash=hash;}
else{$SA.targetAllExternalLinksToParent();}}
else{this.setClientCoopBrowserEnabled();}
var iframe=$SA.getContentIframe();if(iframe)iframe.contentWindow.$SA.browser.setMode(mode);if(mode=="publish")this.events.removeBrowserEventsDisplay();},getMode:function(type){if(this.mode==false){this.mode=$SA.browser.getClientCoopBrowserEnabled();if(this.mode==false){this.mode="publish";}}
if(type==null)type=true;if(type)return this.mode;else if(this.mode=="listen")return"publish";else return"listen";},sendCommandToRestartCoopBrowser:function(){if(this.type=="operator"){top.$SA.support.post("restartCoopBrowser",{cid:$SA.browser.listener.cid,mode:$SA.browser.getMode(false)});}},inCurrentContentFrame:function(){if(this.type=="client"){if($SA.support.isMagicIframeLoaded)return $SA.inMagicIframe();else return true;}
else{return top!=window;}},pointer:{active:false,form:null,formDisplayed:false,currentElement:null,track:null,color:false,background:false,showForm:function(e,x,y){this.currentElement=e;if(this.form==null)this.createForm();$SA.dom.show(this.form);var paddingX=-115;var paddingY=20;x-=140;y+=10
if(y<0)y=0;if(x<0)x=0;$SA.dom.style(this.form,{left:x+"px",top:y+"px"});this.formDisplayed=true;$SA.dom.addClass(this.currentElement,"supportPointerFormDisplayed");var height=this.form.offsetHeight;$SA.browser.events.scrollIfNeeded(y+height);},hideForm:function(){if(this.currentElement!=null){$SA.dom.hide(this.form);this.formDisplayed=false;$SA.dom.removeClass(this.currentElement,"supportPointerFormDisplayed");this.currentElement=null;}},initStyles:function(){if($Sizzle("#supportPointerFormStyles").length==0){if(!this.color)this.color=$SA.siteParams.triggerParams.color;if(!this.background)this.background=$SA.siteParams.triggerParams.background;$SA.dom.appendStyle("supportPointerFormStyles","#supportPointerForm:after{ position:absolute; width:0px; height:0px; content:''; top:-10px; left: 50%; margin-left: -10px; border-left: 10px solid transparent; border-right: 10px solid transparent; border-bottom: 10px solid #"+this.background+";} #supportPointerForm:before{ position:absolute; width:0px; height:0px; content:''; margin-left:-12px; top:-12px; left:50%; border-left: 12px solid transparent; border-right: 12px solid transparent; border-bottom: 12px solid #"+this.color+";} #supportPointerForm{ z-index:10000000; font-size:12px !important; font-family:Arial !important; font-weight: normal !important; text-align:left; position:absolute; border-radius:5px; background:#"+this.background+" !important;color:#"+this.color+" !important; padding:10px !important; border:1px solid #"+this.color+" !important; } #supportPointerForm td, #supportPointerForm div{ color:#"+this.color+" !important; } #supportPointerForm textarea{ margin: 5px 0; display:block; background:white; color:#000; width:250px; height:50px; padding:4px; } #supportPointerForm button{ margin:0; } #closeSupportPointerForm{ border-bottom: 1px dashed #"+this.color+"; color:#"+this.color+" !important; text-decoration:none; float:right; cursor:pointer; padding:0; line-height:1.1em; margin-top:7px; } #closeSupportPointerForm:hover{ border-color:transparent; text-decoration:none; } button.supportButtonStyle{ cursor: pointer;display: inline-block;background-color: #fafafa;background-image: -webkit-gradient(linear,0 0,0 100%,from(#ffffff),color-stop(25%,#ffffff),to(#e6e6e6));background-image: -webkit-linear-gradient(#ffffff,#fff 25%,#e6e6e6);background-image: -moz-linear-gradient(top,#ffffff,#fff 25%,#e6e6e6);background-image: -ms-linear-gradient(#ffffff,#fff 25%,#e6e6e6);background-image: -o-linear-gradient(#ffffff,#fff 25%,#e6e6e6);background-image: linear-gradient(#ffffff,#fff 25%,#e6e6e6);background-repeat: no-repeat;filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#e6e6e6', GradientType=0);text-shadow: 0 1px 1px rgba(255,255,255,0.75);border: 1px solid #ccc;border-bottom-color: #bbb;-webkit-border-radius: 3px;-moz-border-radius: 3px;-o-border-radius: 3px;border-radius: 3px;-webkit-box-shadow: inset 0 1px 0 rgba(255,255,255,0.2), 0 1px 2px rgba(0,0,0,0.05);-moz-box-shadow: inset 0 1px 0 rgba(255,255,255,0.2), 0 1px 2px rgba(0,0,0,0.05);box-shadow: inset 0 1px 0 rgba(255,255,255,0.2), 0 1px 2px rgba(0,0,0,0.05);outline: none;color: #333;line-height: normal;padding: 6px 14px 5px;vertical-align: top;font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;font-size: 12px; }button.supportButtonStyle:active { -webkit-box-shadow: inset 0 2px 4px rgba(0,0,0,0.25), 0 1px 2px rgba(0,0,0,0.05); -moz-box-shadow: inset 0 2px 4px rgba(0,0,0,0.25), 0 1px 2px rgba(0,0,0,0.05); box-shadow: inset 0 2px 4px rgba(0,0,0,0.25), 0 1px 2px rgba(0,0,0,0.05); } button.supportButtonStyle:hover { background-color: #e6e6e6; background-position: 0 -15px; color: #333; text-decoration: none; -webkit-transition: background-position .1s linear; -moz-transition: background-position .1s linear; -ms-transition: background-position .1s linear; -o-transition: background-position .1s linear; transition: background-position .1s linear; }");}},createForm:function(){var $this=this;this.form=document.createElement("div");this.form.id="supportPointerForm";this.initStyles();var title=document.createElement("div");title.id="supportPointerTitle";title.innerHTML="Введите подсказку для пользователя:";this.form.appendChild(title);var textarea=document.createElement("textarea");textarea.setAttribute("placeholder","Обратите Ваше внимание сюда!");this.form.appendChild(textarea);var button=document.createElement("button");button.innerHTML="Отправить указатель";$SA.dom.addClass(button,"supportButtonStyle");button.onclick=function(){$SA.browser.events.pointer.changeCurrent({target:$this.currentElement,text:textarea.value});$this.hideForm();top.$SA.browser.pointer.toggleActive();$SA.alert("Указка успешно отправлена!");}
this.form.appendChild(button);var close=document.createElement("a");close.id="closeSupportPointerForm";close.innerHTML="Отменить";close.onclick=function(){$this.hideForm();};this.form.appendChild(close);$SA.body.appendChild(this.form);},initOperator:function(){var $this=this;$SA.listen("mouseover",document,function(e){if(!$this.formDisplayed&&$this.active){if(e.target.id!="supportPointerMousetrack"){var current=$Sizzle(".supportOperatorMouseover");if((current.length&&current[0]!=e.target)||!current.length){if(current.length){$SA.dom.removeClass(current[0],"supportOperatorMouseover");}
$SA.dom.addClass(e.target,"supportOperatorMouseover");}}}});this.setActive(top.$SA.browser.pointer.active);},toggleActive:function(){this.active=!this.active;$SA.browser.operatorIframe.contentWindow.$SA.browser.pointer.setActive(this.active);var d=$Sizzle(".controlPanelDeactivatePointer")[0];var a=$Sizzle(".controlPanelActivatePointer")[0];if(this.active){var s=d;var h=a;}
else{var s=a;var h=d;}
$SA.dom.addClass(h,"none");$SA.dom.removeClass(s,"none");},setActive:function(active){var $this=this;$this.active=active;$this.hideForm();var current=$Sizzle(".supportOperatorMouseover");if(current.length)$SA.dom.removeClass(current[0],"supportOperatorMouseover");if($this.track==null){$this.track=document.createElement("div");$this.track.id="supportPointerMousetrack";$SA.listen("mousedown",document,function(e){if(!$this.formDisplayed&&$this.active){$SA.dom.style($this.track,{left:e.pageX+"px",top:e.pageY+"px",display:"block"});$SA.clearSelection();$SA.browser.pointer.showForm(e.target,e.pageX,e.pageY);}});$SA.listen("mouseup",document,function(e){if($this.active){$SA.dom.style($this.track,{display:"none"});}});$SA.body.appendChild($this.track);}
if(active)$SA.dom.show($this.track);else $SA.dom.hide($this.track);}},sender:{cid:false,initialized:false,init:function(p){if(this.initialized)return;this.initialized=true;this.cid=p.cid;$SA.browser.type=p.type;var events=$SA.browser.events;if($SA.browser.inCurrentContentFrame()){$SA.listen("mousemove",$SA.body,function(e){clearTimeout(events.mousemove.timeout);events.mousemove.timeout=setTimeout(function(){events.mousemove.changeCurrent(e);},300);});var forms=function(e){clearTimeout(events.forms.timeout);events.forms.timeout=setTimeout(function(){events.forms.changeCurrent(e);},300);};$SA.listen("keyup",window,forms);$SA.listen("change",window,forms);$SA.listen("mouseup",$SA.body,function(e){var tag=e.target.tagName.toLowerCase();var type=e.target.getAttribute("type");if(type!=null)type=type.toLowerCase();if(tag=="input"&&(type=="radio"||type=="checkbox"))return forms(e);else{events.click.changeCurrent(e);}});setInterval(function(){events.send();},1000);$SA.dom.appendStyle("supportOperatorMouseover",".supportOperatorMouseover{ position:relative !important; cursor:pointer; outline: 2px dashed #"+$SA.siteParams.triggerParams.background+" !important; } .supportNotSelectable{ -moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none; } #supportPointerMousetrack{ position:absolute; margin:-5px 0 0 -5px; width:10px; height:10px; z-index:10000000; display:none; background:transparent; }");if($SA.browser.type=="client"){setInterval(function(){if($SA.browser.inCurrentContentFrame()){$SA.browser.cometPublish({action:"browserEvents",data:{}});}},5000);}
else{$SA.browser.pointer.initOperator();}}}},listener:{cid:false,initialized:false,init:function(p){if(this.initialized)return;this.initialized=true;this.cid=p.cid;if(!$SA.inMagicIframe()){$SA.support.post("cometListen",{cid:p.cid});}
if($SA.browser.type=="operator"){$SA.browser.sendCommandToRestartCoopBrowser();}
this.receiveMessage();},receiveMessageTimeout:null,receiveMessage:function(){if($SA.browser.type=="operator"){if(top==window){clearTimeout(this.receiveMessageTimeout);var div=$Sizzle("#supportClientGoneOffline");if(div.length){$SA.body.removeChild(div[0]);}
this.receiveMessageTimeout=setTimeout(function(){var div=document.createElement("div");div.id="supportClientGoneOffline";div.innerHTML="<table style='height:100%; width:100%;'><tr><td style='text-align:center; vertical-align:middle; '><div style='font-weight: bold;font-family: monospace; text-transform: uppercase; color: #e11a44; text-align: center; font-size: 20px; margin:-100px 0 70px;'>Не прислоняться</div><div style='font-size:30px; color:#fff;'>К сожалению, пользователь покинул страницу :(</div></td></tr></table>";$SA.body.appendChild(div);},10000);}}}},init:{operator:function(){var result=this.getCidFromHash(window.browsercidHash);var drawPanel=false;if(result){var id="onlineSupportOperatorBrowserIframe";var div=document.createElement("div");div.id="onlineSupportOperatorBrowserIframeContainer";$SA.dom.style(div,{position:"absolute",top:"0px",bottom:"59px",width:"100%"});$SA.body.appendChild(div);$SA.browser.operatorIframe=$SA.createBigIframe(id,id,div);var url=$SA.urlWithoutHash($SA.location.href());if(url.indexOf('?')==-1)url+="?";else url+="&";url+="operatorIframe=1";$SA.support.hideAllOriginalContent();$SA.dom.style($SA.browser.operatorIframe,{position:"absolute"});$SA.dom.show($SA.browser.operatorIframe);drawPanel=true;$SA.browser.operatorIframe.src=url;}
if(!result){if($SA.inMagicIframe()){var result=this.getCidFromHash(top.browsercidHash);}}
if(result){$SA.browser.setMode(result.mode);$SA.browser.sender.init({type:"operator",cid:result.cid+"::operator"});$SA.browser.listener.init({type:"operator",cid:result.cid});$SA.browser.enabled=true;if(drawPanel){$SA.browser.controlPanel.draw(result.descr);}
return true;}
return false;},client:function(p){if(p==null)p={};if(p.force==null)p.force=false;var enabled=$SA.browser.getClientCoopBrowserEnabled();if(p.force||enabled){var cid=$SA.siteParams.id+"::"+$SA.talkID+"::browser";$SA.browser.sender.init({type:"client",cid:cid});$SA.browser.listener.init({type:"client",cid:cid+"::operator"});$SA.browser.setClientCoopBrowserEnabled();$SA.browser.enabled=true;return true;}
return false;},getCidFromHash:function(hash){if(typeof hash=="string"){var re=/\*browsercid\=(.*)\*/i;var match=hash.match(re);if(match!=null&&match[1]!=null){var params=match[1].split('&');var descr="";for(var i=2;i<params.length;i++){if(i>2)descr+="&";descr+=decodeURIComponent(params[i].split('+').join(' '));}
if(params.length>1){return{cid:params[0],mode:params[1],descr:descr};}}}
return false;}},controlPanel:{clientDescr:"Посетитель",draw:function(descr){if(descr)this.clientDescr=descr;if($SA.browser.type=="operator"){if($SA.support.loadSupport){var div=document.createElement("div");div.id="supportBrowserControlPanel";$SA.dom.appendStyle("supportBrowserControlPanel",'#supportBrowserControlPanel{ color:white; position:fixed;left:0;right:0;bottom:0;background: #511262 url("'+$SA.getDomain()+'/images/support/controlPanelBack.png") top center no-repeat;z-index:10000000;text-align:left; } #supportBrowserControlPanel .none{ display:none; } #supportBrowserControlPanel button{ cursor:pointer; margin: 0 10px 0 0; font-size:14px; color:#fff; border:none; outline:none; padding: 7px 16px; line-height: 14px; display: inline-block; -webkit-border-radius: 10px; -moz-border-radius: 10px; border-radius: 10px; zoom: 1; background: url("'+$SA.getDomain()+'/images/support/greenButton.png") repeat-x !important; text-shadow: 2px 2px 2px #2c941b; } #supportBrowserControlPanel button.orange{ background: url("'+$SA.getDomain()+'/images/support/orangeButton.png") repeat-x !important; text-shadow: 2px 2px 2px #fa7100; } #supportClientGoneOffline{ background: black; background-color:rgba(0,0,0,0.7) !important; z-index:110000000; position:absolute; top:0; left:0; right:0; bottom:0; } .controlPanelShadowWrapper{ position:relative; } .controlPanelShadowWrapper .controlPanelShadow{ width: 100%; height: 20px; background: url("'+$SA.getDomain()+'/images/support/controlPanelShad.png") repeat-x; position: absolute; z-index: 2; top: 0px; left: 0; } #controlPanelWrapper{ padding:15px 15px 13px;} #supportBrowserControlPanel #supportBrowserButtonpane{ line-height:31px; } #supportBrowserControlPanel .controlPanelUsername{ float:right; font-size:18px; }');div.innerHTML+='<div class="controlPanelShadowWrapper"><div class="controlPanelShadow"></div><div id="controlPanelWrapper"><div id="supportBrowserButtonpane"><span class="controlPanelUsername">'+this.clientDescr+'</span><span class="supportBrowserViewMode"><button onClick="$SA.browser.controlPanel.toggleControl();">Перехватить управление</button></span><span class="supportBrowserPublishMode"><button class=" orange" onClick="$SA.browser.controlPanel.toggleControl();">Отдать управление</button></span>   <button onClick="$SA.browser.pointer.toggleActive();" class="controlPanelActivatePointer">Включить указку</button><button class="orange controlPanelDeactivatePointer none" onClick="$SA.browser.pointer.toggleActive();">Отключить указку</button></div><div style="clear:both;"></div></div></div>';$SA.body.appendChild(div);this.toggleControl($SA.browser.getMode(),false);}}},toggleControl:function(mode,setMode){if(setMode==null)setMode=true;if(mode==null)mode=$SA.browser.getMode(false);var view="supportBrowserViewMode";var publish="supportBrowserPublishMode";if(mode=="publish"){var h=view;var s=publish;}
else{var h=publish;var s=view;}
h=$Sizzle("."+h);for(var i=0;i<h.length;i++){$SA.dom.addClass(h[i],"none");}
s=$Sizzle("."+s);for(var i=0;i<s.length;i++){$SA.dom.removeClass(s[i],"none");}
if(setMode)$SA.browser.setMode(mode);}},events:{send:function(){var mm=this.mousemove;var forms=this.forms;var click=this.click;var pointer=this.pointer;var v=[];var canPublish=$SA.browser.getMode()=="publish"&&$SA.browser.inCurrentContentFrame();if(canPublish){if(mm.current!=mm.last){mm.last=mm.current;v.push({key:"mousemove",value:mm.last});}
if(click.current.length){v.push({key:"click",value:click.current});click.current=[];}
if(forms.current.length){forms.last=forms.current;v.push({key:"forms",value:forms.current});forms.current=[];}}
if(pointer.current.length){v.push({key:"pointer",value:pointer.current});pointer.current=[];}
if(v.length){var data={};for(var i in v){data[v[i].key]=v[i].value;}
$SA.browser.cometPublish({action:"browserEvents",data:data});}},mousemove:{current:null,last:null,timeout:null,changeCurrent:function(e){var offset=$SA.getOffset(e.target);var xpos=e.pageX-offset.left;var ypos=e.pageY-offset.top;this.current=supportJSON.toJSON({target:$SA.fullPath(e.target),offsetX:xpos,offsetY:ypos});},receive:function(data){var target=$Sizzle(data.target);if(target.length){target=target[0];var cursor=$SA.browser.events.getCursor();var offset=$SA.getOffset(target);var y=offset.top+data.offsetY;var x=offset.left+data.offsetX;$SA.dom.style(cursor,{top:y+"px",left:x+"px"});$SA.browser.events.scrollIfNeeded(y);}}},scroll:{receive:function(data){$SA.scrollWindowTo(data.scrollTop,150);}},click:{current:[],timeout:null,changeCurrent:function(e){var offset=$SA.getOffset(e.target);var xpos=e.pageX-offset.left;var ypos=e.pageY-offset.top;this.current.push(supportJSON.toJSON({target:$SA.fullPath(e.target),offsetX:xpos,offsetY:ypos}));},receive:function(data){for(var i in data){var row=data[i];var target=$Sizzle(row.target);if(target.length){target=target[0];var point=$SA.browser.events.getClickPoint();var offset=$SA.getOffset(target);$SA.dom.style(point,{top:(offset.top+row.offsetY-12)+"px",left:(offset.left+row.offsetX-12)+"px"});}}}},pointer:{current:[],timeout:null,changeCurrent:function(p){this.current.push(supportJSON.toJSON({target:$SA.fullPath(p.target),text:p.text}));},receive:function(data){for(var i in data){var row=data[i];var target=$Sizzle(row.target);if(target.length){target=target[0];var tooltip=$Sizzle("#supportPointerForm")[0];if(tooltip==null){var tooltip=document.createElement("div");tooltip.id="supportPointerForm";$SA.browser.pointer.initStyles();$SA.body.appendChild(tooltip);tooltip.onclick=function(){$SA.dom.hide(tooltip);}
$SA.dom.style(tooltip,{maxWidth:"300px",cursor:"pointer"});}
tooltip.innerHTML="";var html="<table style='width:100%; margin:0;'><tr>";var operator=$SA.browser.events.getOperator();if(operator.avatar){html+="<td style='vertical-align:top; width:1px; padding:0;'><img style='margin: 0 10px 0 0; max-width:40px; min-width:40px; width:40px; max-height:40px; min-height:40px; height:40px; border-radius:5px;' src='"+operator.avatar+"' /></td>";}
html+="<td style='vertical-align:top; font-size:12px; line-height:1em; padding:0;'>";if(operator.fio){html+="<div style='padding:0; margin:0 0 5px;'><b>"+operator.fio+"</b>:</div>";}
if(!row.text.length)row.text="Обратите Ваше внимание сюда!";html+=row.text+"</td></tr></table>";tooltip.innerHTML=html;$SA.dom.show(tooltip);var offset=$SA.getOffset(target);var targetWidth=target.offsetWidth;var targetHeight=target.offsetHeight;var tooltipWidth=tooltip.offsetWidth;var tooltipHeight=tooltip.offsetHeight;var y=offset.top+targetHeight+12;var x=offset.left+(targetWidth-tooltipWidth)/2;$SA.dom.style(tooltip,{left:x+"px",top:y+"px"});$SA.browser.events.scrollIfNeeded(y+tooltipHeight);}}}},forms:{current:[],enabled:true,timeout:null,changeCurrent:function(e){var t=e.target;var path=$SA.fullPath(e.target);var index=this.current.length;for(var i in this.current){if(this.current[i].path==path){var index=i;break;}}
var tag=t.tagName.toLowerCase();if(tag=="input"){var type=t.getAttribute("type");if(type!=null)type=type.toLowerCase();if(type=="radio"||type=="checkbox"){if(t.checked)var v=1;else var v=0;}
else var v=t.value;}
else if(tag=="textarea")var v=t.value;else if(tag=="select")var v=t.selectedIndex;if(v!=null){this.current[index]={target:path,value:v};}},receive:function(rows){for(var i in rows){var data=rows[i];var t=$Sizzle(data.target);if(t.length){t=t[0];var tag=t.tagName.toLowerCase();var type=t.getAttribute("type");if(type!=null)type=type.toLowerCase();if(tag=="textarea"||(tag=="input"&&type=="text")){t.value=data.value;}
else if(tag=="select")t.selectedIndex=data.value;else if(type=="radio"){if(data.value==1){var name=t.getAttribute("name");if(name!=null){var inputs=$Sizzle("input[name="+name+"]:radio:checked");for(var i=0;i<inputs.length;i++){inputs[i].checked=false;}}
t.checked=true;}
else t.checked=false;}
else if(type=="checkbox"){t.checked=data.value==1;}}}}},changeUrl:function(data){if($SA.browser.type=="client"&&$SA.browser.getMode()=="publish")return;if(top==window||$SA.getDomainByAddress(top.location.href)==$SA.getDomainByAddress(data.url)){if($SA.urlWithoutHash(window.location.href)!=$SA.urlWithoutHash(data.url)){$SA.browser.setDontSendChangeUrl(true);window.location.href=data.url;return true;}}
else{var url=$SA.urlWithoutHash(data.url);if($SA.urlWithoutHash(top.location.href)!=url){$SA.browser.setDontSendChangeUrl(true);url=url+top.browsercidHash;top.location.href=url;return true;}}
return false;},cursor:null,removeBrowserEventsDisplay:function(){var elements=$Sizzle(".browserClickPoint,#supportBrowserCursor");if(elements.length){for(var i=0;i<elements.length;i++){$SA.body.removeChild(elements[i]);}}
this.cursor=null;},scrollIfNeeded:function(y){var scrollTop=$SA.getWindowScrollTop();var scrollLeft=$SA.getWindowScrollLeft();if((y>scrollTop+$SA.support.windowHeight)||y<scrollTop){scrollTop=y-($SA.support.windowHeight/2);if(scrollTop<0)scrollTop=0;$SA.browser.events.scroll.receive({scrollTop:scrollTop});}},getOperator:function(){var operator=supportStorage.get("browser::operator");var result={fio:false,avatar:false};if(operator!=null){operator=$SA.siteParams.operators[operator];if(operator!=null){result.fio=operator.fio;if(operator.avatar){result.avatar=$SA.getDomain()+"/"+operator.avatar;}}}
return result;},getCursor:function(){if(this.cursor==null){this.cursor=document.createElement("div");this.cursor.id="supportBrowserCursor";$SA.dom.style(this.cursor,{position:"absolute",top:"0px",left:"0px",zIndex:10000000,"-webkit-transition":"all 0.3s ease-in-out","-moz-transition":"all 0.3s ease-in-out","-o-transition":"all 0.3s ease-in-out","-ms-transition":"all 0.3s ease-in-out","transition":"all 0.3s ease-in-out"});this.cursor.innerHTML='<div style="width:20px;height:29px;background:url(\''+supportAPI.domain+'/support/cursor.png?2\') no-repeat;"></div>';if($SA.browser.type=="client"){var operator=this.getOperator();if(operator.avatar){this.cursor.innerHTML+='<div style="width:40px; height:40px; margin-left:16px; border-radius:5px; border:1px solid #b6b6b6; background:#'+$SA.siteParams.triggerParams.background+'; padding:2px;"><img style="border-radius:4px; margin:0; padding:0;" width="40" height="40" src="'+operator.avatar+'" /></div>';}}
$SA.body.appendChild(this.cursor);}
return this.cursor;},getClickPoint:function(){var points=$Sizzle(".browserClickPoint");if(points.length>2)$SA.body.removeChild(points[0]);var p=document.createElement("div");p.setAttribute("class","browserClickPoint");$SA.dom.style(p,{position:"absolute",width:"24px",height:"24px",background:"url('"+$SA.getDomain()+"/support/click.png?2') no-repeat",zIndex:10000000});$SA.body.appendChild(p);return p;}},getClientCoopBrowserEnabled:function(){var res=$SA.cookie.get("clientCoopBrowser");if(res==null)return false
else return res;},setClientCoopBrowserEnabled:function(){if($SA.browser.type=="client"){var date=new Date();var days=0.2;date.setTime(date.getTime()+(180000));var expires=date.toGMTString();$SA.cookie.set("clientCoopBrowser",$SA.browser.getMode(),expires);}},setDontSendChangeUrl:function(value){if(value){$SA.cookie.set("dontChangeUrl",1);}
else{$SA.cookie.set("dontChangeUrl",null);}},getDontSendChangeUrl:function(){var value=$SA.cookie.get("dontChangeUrl");if(value==1)return true;else return false;},cometPublish:function(p){if(p.currentUrl==null)p.currentUrl=$SA.location.href();var url=$SA.urlWithoutHash(p.currentUrl);$SA.browser.setClientCoopBrowserEnabled();if($SA.inMagicIframe()){p.currentUrl=$SA.location.href();parent.$SA.browser.cometPublish(p);}
else{$SA.support.post("cometPublish",{cid:$SA.browser.sender.cid,content:{action:p.action,data:p.data,url:url}});}}},load:{javascriptDir:"/engine/javascript/",step1:function(){if($SA.location.hash()!="#noSupport"){var $this=this;$this=$this.step2();}},initTalkID:function(){if($SA.cookie.get("referrer")==null&&$SA.location.referrer()!=null&&$SA.location.referrer().length){var referrer=$SA.location.referrer().replace(/http:\/\//g,'[nonsec]').replace(/https:\/\//g,'[sec]');$SA.cookie.set("referrer",referrer);}
$SA.talkID=$SA.cookie.get("supportOnlineTalkID");if($SA.talkID==null){$SA.talkID=$SA.generateCode(32);}
$SA.cookie.set("supportOnlineTalkID",$SA.talkID);},changeTriggerToBottom:function(){if($SA.siteParams){var pos=$SA.siteParams.triggerParams.position;if(pos!="bottom"){$SA.siteParams.triggerParams.position="bottom";$SA.siteParams.triggerParams.forceBottom=true;if(pos=="right"||pos=="left"){var w=$SA.siteParams.triggerParams.width;$SA.siteParams.triggerParams.width=$SA.siteParams.triggerParams.height;$SA.siteParams.triggerParams.height=w;var w=$SA.siteParams.triggerParams.offlineWidth;$SA.siteParams.triggerParams.offlineWidth=$SA.siteParams.triggerParams.offlineHeight;$SA.siteParams.triggerParams.offlineHeight=w;$SA.siteParams.triggerParams.offset=25;return true;}}}
return false;},passLoadLimits:function(){var allowed=true;var loadLimits=$SA.siteParams.params.siteChatOptions.loadLimits;if(loadLimits.type!="none"){allowed=(loadLimits.type=="exclude");var currentUrl=window.location.pathname+window.location.search;for(var i in loadLimits.url){if(loadLimits.url[i]==currentUrl){allowed=!allowed;break;}}}
return allowed;},step2:function(domain){var $this=this;if(domain==null)var domain=$SA.getDomainByAddress($SA.location.href());var dir=this.getDirByID($SA.queryStringParams.h);var date=new Date();this.loadScript($SA.getDomain()+dir+domain+".js?r="+date,function(){if($SA.siteParams!=null){if($SA.device.tablet()&&$SA.siteParams.params.trigger.tablet.type=="disable"){return;}
if($SA.device.mobile()&&$SA.siteParams.params.trigger.mobile.type=="disable"){return;}
if(!$this.passLoadLimits()){return;}
var size=$SA.support.getWindowSize();if((window.isLcab!=null&&window.isLcab&&size.width<1300)||window.forceBottomTrigger){$this.changeTriggerToBottom();}
$this.initTalkID();$SA.siteParams.free=$SA.siteParams.free?1:0;$SA.siteParams.referrer=$SA.location.referrer();$SA.siteParams.firstReferer=$SA.cookie.get("referrer");$SA.siteParams.currentUrl=$SA.location.href();$SA.siteParams.lcab_session=$SA.cookie.get("lcab_session");$SA.siteParams.minWidth=parseInt($SA.siteParams.minWidth);$SA.siteParams.minHeight=parseInt($SA.siteParams.minHeight);var t=document.title;if(!t)t="";if(window.customSupportOperatorNames!=null){for(var login in window.customSupportOperatorNames){if($SA.siteParams.operators[login]!=null){$SA.siteParams.operators[login].fio=window.customSupportOperatorNames[login];}}}
$SA.siteParams.currentTitle=t;$SA.siteParams.talkID=$SA.talkID;$SA.siteParams.operator=supportStorage.get("supportOperator");$SA.siteParams.channelDate=supportStorage.get("supportDate");$SA.siteParams.channelEtag=supportStorage.get("supportEtag");$SA.siteParams.supportListen=$SA.cookie.get("supportListen");$SA.siteParams.refuseEnterName=supportStorage.get("refuseEnterName");$SA.siteParams.refuseSendRate=supportStorage.get("refuseSendRate");$SA.siteParams.allowSendAutoMessage=supportStoreWithExpiration.get("allowSendAutoMessage");$SA.siteParams.userDataParams=[];var attributes=$SA.supportScript.attributes;for(var i in attributes){if(typeof attributes[i]=="object"){var name=attributes[i].name;if(name.indexOf('data-')==0){$SA.siteParams.userDataParams.push({name:name,value:attributes[i].value});}}}
var pulsateTitle=parseInt($SA.siteParams.params.newMessageNotification.pulsateTitle);if(!pulsateTitle){$SA.pulsate.disable();}
$SA.support.windowResized()
var loadSupportNow=!$SA.free()||$SA.needFreeLoadSupport()||document.getElementById("onlineSupportContainer")!=null;if(loadSupportNow){$SA.support.init();}
else if(!$SA.inMagicIframe()){$SA.enableFreePreload();$SA.support.initTrigger();}
if(parseInt($SA.siteParams.params.siteChatOptions.disallowSiteInIframe)){$SA.disallowSiteInIframe();}}
else{var split=domain.split(".");if(split.length>2){var i=domain.indexOf(".");domain=domain.substr(i+1);$SA.load.step2(domain);}}});},loadScript:function(url,callback){var script=document.createElement("script");script.type="text/javascript";if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback();}};}else{script.onload=function(){callback();};script.onerror=function(){callback();};}
script.async=true;script.src=url;document.getElementsByTagName("head")[0].appendChild(script);},getDirByID:function(id){var res="/API/DOCS/onlineSiteParams/";for(var i=0;i<id.length;i++){res+=id.substr(i,1)+"/";}
return res;},initIframe:function(container){var iframe=container.getElementsByTagName("iframe");if(iframe[0]==null)return null;$SA.dom.style(iframe[0],{display:"block",position:"relative",background:'transparent',border:"none",width:'100%',height:'100%'});iframe[0].style.cssText+="; width:100% !important; height:100% !important;";iframe[0].setAttribute("allowTransparency","true");return iframe[0];}},cookie:{set:function(e,t,n,r,i,s){if(r==null)r="/";if(i==null){var i=document.domain.split(".")}if(typeof i!="object"){i=[i]}if(n==null){var o=new Date;var u=10;o.setTime(o.getTime()+u*24*60*60*1e3);var n=o.toGMTString()}var a="";for(var f=i.length-1;f>=0;f--){a="."+i[f]+a;a=supportPunycode.ToASCII(a);document.cookie=e+"="+escape(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+a:"")+(s?"; secure":"")}},get:function(e){var t=" "+document.cookie;var n=" "+e+"=";var r=null;var i=0;var s=0;if(t.length>0){i=t.indexOf(n);if(i!=-1){i+=n.length;s=t.indexOf(";",i);if(s==-1){s=t.length}r=unescape(t.substring(i,s))}}return r}},hexToRgb:function(e){if(e.length==4){var t=e.substr(1,1);var n=e.substr(2,1);var r=e.substr(3,1);e="#"+t+t+n+n+r+r}var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},ready:function(){function i(){if(r.isReady){return}try{document.documentElement.doScroll("left")}catch(e){setTimeout(i,1);return}r.ready()}function s(t){r.bindReady();var n=r.type(t);e.done(t)}var e,t,n={};n["[object Boolean]"]="boolean";n["[object Number]"]="number";n["[object String]"]="string";n["[object Function]"]="function";n["[object Array]"]="array";n["[object Date]"]="date";n["[object RegExp]"]="regexp";n["[object Object]"]="object";var r={isReady:false,readyWait:1,holdReady:function(e){if(e){r.readyWait++}else{r.ready(true)}},ready:function(t){if(t===true&&!--r.readyWait||t!==true&&!r.isReady){if(!document.body){return setTimeout(r.ready,1)}r.isReady=true;if(t!==true&&--r.readyWait>0){return}e.resolveWith(document,[r])}},bindReady:function(){if(e){return}e=r._Deferred();if(document.readyState==="complete"){return setTimeout(r.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false);window.addEventListener("load",r.ready,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",t);window.attachEvent("onload",r.ready);var n=false;try{n=window.frameElement==null}catch(s){}if(document.documentElement.doScroll&&n){i()}}},_Deferred:function(){var e=[],t,n,i,s={done:function(){if(!i){var n=arguments,o,u,a,f,l;if(t){l=t;t=0}for(o=0,u=n.length;o<u;o++){a=n[o];f=r.type(a);if(f==="array"){s.done.apply(s,a)}else if(f==="function"){e.push(a)}}if(l){s.resolveWith(l[0],l[1])}}return this},resolveWith:function(r,s){if(!i&&!t&&!n){s=s||[];n=1;try{while(e[0]){e.shift().apply(r,s)}}finally{t=[r,s];n=0}}return this},resolve:function(){s.resolveWith(this,arguments);return this},isResolved:function(){return!!(n||t)},cancel:function(){i=1;e=[];return this}};return s},type:function(e){return e==null?String(e):n[Object.prototype.toString.call(e)]||"object"}};if(document.addEventListener){t=function(){document.removeEventListener("DOMContentLoaded",t,false);r.ready()}}else if(document.attachEvent){t=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",t);r.ready()}}}return s}(),listen:function(event,t,n,f){if(f==null)f=false;var callback=function(e){if(e.pageX==null&&e.clientX!=null){var html=document.documentElement;var body=$SA.body;e.pageX=e.clientX+(html&&html.scrollLeft||body&&body.scrollLeft||0);e.pageY=e.clientY+(html&&html.scrollTop||body&&body.scrollTop||0);}
if(!e.target)e.target=e.srcElement;n(e,t);}
if(t.addEventListener)t.addEventListener(event,callback,f);else if(t.attachEvent){var r=t.attachEvent("on"+event,callback);return r;}},device:null,SA:function(){if(!$SA.inMagicIframe())return $SA;else return top.$SA;},openSupport:function(){return $SA.SA().support.open();},openSupportCallback:function(){},openReviewsTab:function(){$SA.SA().support.open();$SA.SA().support.post("openReviewsTab",{});},openTab:function(index){$SA.SA().support.open();$SA.SA().support.post("openTab",{index:index});},refuseSendRate:function(){supportStorage.set("refuseSendRate",1);},setSupportTop:function(top){if($SA.device.mobile())return;if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().setSupportTop(top);},100);var $this=$SA.SA().support;var trigger=$SA.SA().support.trigger;if(!trigger)return;var data=$SA.SA().siteParams.triggerParams;var h=$SA.SA().siteParams.triggerParams.height;if(data.position=="left"||data.position=="right"){if(top+parseInt(h)>$this.windowHeight)top=$this.windowHeight-h;$SA.SA().dom.style(trigger,{transition:"none",top:top+"px"});setTimeout(function(){$SA.dom.style(trigger,{transition:$this.triggerTransition});},100);this.support.applyNewPosition({y:top});data.offset=top;}},sendMessage:function(text){$SA.SA().support.post("sendMessage",{text:text});},receiveMessage:function(text,operator,simulateTyping){$SA.SA().support.post("receiveMessage",{text:text,operator:operator,simulateTyping:simulateTyping});},setSupportLeft:function(left){if($SA.device.mobile())return;if($SA.SA().siteParams==null)return setTimeout(function(){$SA.SA().setSupportLeft(left);},100);var $this=$SA.SA().support;var trigger=$SA.SA().support.trigger;if(!trigger)return setTimeout(function(){$SA.SA().setSupportLeft(left);},100);var data=$SA.SA().siteParams.triggerParams;var w=parseInt($SA.SA().siteParams.triggerParams.width);if(data.position=="top"||data.position=="bottom"){if(left+w>$this.windowWidth)left=$this.windowWidth-w;$SA.SA().dom.style(trigger,{transition:"none",left:left+"px"});setTimeout(function(){$SA.SA().dom.style(trigger,{transition:$this.triggerTransition});},100);$SA.SA().support.applyNewPosition({x:left});data.offset=left;}},setTarget:function(why){if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().setTarget(why);},100);$SA.SA().support.post("setTarget",{why:why});},setName:function(name){if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().setName(name);},100);$SA.SA().support.post("setName",{name:name});},setOperator:function(login){if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().setOperator(login);},100);$SA.SA().support.post("setOperator",{login:login});},changeContacts:function(contacts){if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().changeContacts(contacts);},100);$SA.SA().support.post("changeContacts",{contacts:contacts});},getContactsCallback:function(){},getContacts:function(callback){this.getContactsCallback=callback;if(!$SA.SA().support.ready)return setTimeout(function(){$SA.SA().getContacts();},100);$SA.SA().support.post("getContacts");},setTriggerCSS:function(css){if($SA.support.mobileTrigger())return;if(!$SA.SA().support.trigger)return setTimeout(function(){$SA.SA().setTriggerCSS(css);},100);$SA.SA().dom.style($SA.SA().support.trigger,css);},setDimensions:function(width,height){if(!$SA.SA().support.container)return setTimeout(function(){$SA.SA().setDimensions(width,height);},100);$SA.SA().support.applyNewPosition({width:width,height:height,action:"resize"});},setPosition:function(x,y){if(!$SA.SA().support.container)return setTimeout(function(){$SA.SA().setPosition(x,y);},100);$SA.SA().support.applyNewPosition({x:x,y:y,action:"drag"});},setNewMessageColors:function(background,backgroundIE,color){if(!$SA.SA().support.container)return setTimeout(function(){$SA.SA().setNewMessageColors(background,backgroundIE,color);},100);$SA.SA().newMessageBackground=background;$SA.SA().newMessageBackgroundIE=backgroundIE;$SA.SA().newMessageColor=color;},clientSendMessageCallback:function(data){},listenOperatorsStatus:function(callback){if(typeof callback=="function")this.listenOperatorsStatusCallback=callback;},listenOperatorsStatusCallback:function(onlineOperators){},disallowSiteInIframe:function(){$SA.support.magicIframe=false;},sendRateCallback:function(p){},location:{href:function(){return window.location.href;},hash:function(){return window.location.hash;},protocol:function(){return window.location.protocol;},referrer:function(){return document.referrer;}},getParent:function(e){if(e!=null)return e.parentNode;else return null;},fullPath:function(e){var t=[];while($SA.getParent(e)){var n=e.tagName;if(e==e.ownerDocument.documentElement){t.unshift(e.tagName);break}else{var r=$SA.dom.attr(e);if(r)n+="#"+r;var i=$SA.getParent(e);var s=0;for(var o in i.children){if(i.children[o].tagName==e.tagName){if(i.children[o]==e){n+=":eq("+s+")";break}s++}}e=i;t.unshift(n)}}return t.join(" > ")},getOffset:function(e){if(typeof document.body.getBoundingClientRect==="function"){return this.getOffsetRect(e)}else{return this.getOffsetSum(e)}},getOffsetSum:function(e){var t=0,n=0;while(e){t=t+parseInt(e.offsetTop);n=n+parseInt(e.offsetLeft);e=e.offsetParent}return{top:t,left:n}},getOffsetRect:function(e){var t=e.getBoundingClientRect();var n=document.body;var r=document.documentElement;var i=window.pageYOffset||r.scrollTop||n.scrollTop;var s=window.pageXOffset||r.scrollLeft||n.scrollLeft;var o=r.clientTop||n.clientTop||0;var u=r.clientLeft||n.clientLeft||0;var a=t.top+i-o;var f=t.left+s-u;return{top:Math.round(a),left:Math.round(f)}},getWindowScrollTop:function(){return(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;},getWindowScrollLeft:function(){return(window.pageXOffset!==undefined)?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft},scrollWindowTo:function(to,duration,callback){if(duration<=0){if(callback!=null)callback();return;}
var y=$SA.getWindowScrollTop();var x=$SA.getWindowScrollLeft();var difference=to-y;var perTick=difference/duration*10;setTimeout(function(){y=y+perTick;window.scrollTo(x,y);window.scrollTop=y;$SA.scrollWindowTo(to,duration-10,callback);},10);},urlWithoutHash:function(url){url=url.split('?operatorIframe=1').join('').split('&operatorIframe=1').join('');return url.split('#')[0];},getDomainByAddress:function(address){var a=document.createElement("a")
a.href=address;var domain=a.host;domain=domain.split(':');domain=domain[0];domain=supportPunycode.ToUnicode(domain);if(domain.indexOf("www.")==0){domain=domain.substr(4);}
if($SA.subdomainFromFirstPathElement.length){var path=a.pathname;if(path.indexOf('/')==0){path=path.substr(1);}
path=path.split('/');var firstPathElement=path[0];if(firstPathElement.length){for(var i in $SA.subdomainFromFirstPathElement){if($SA.subdomainFromFirstPathElement[i]==firstPathElement){$SA.subdomainFromFirstPathElement.splice(0,1);domain=firstPathElement+"."+domain;}}}}
return domain;},targetAllExternalLinksToParent:function(){var links=$Sizzle("a[href]");if(links.length){var parentHash=top.location.hash;var parentDomain=$SA.getDomainByAddress(top.location.href);for(var i=0;i<links.length;i++){var href=links[i].getAttribute("href");if(href!=null&&href.indexOf('http')==0){if(parentDomain!=$SA.getDomainByAddress(href)){links[i].setAttribute("href",$SA.urlWithoutHash(href)+parentHash);links[i].setAttribute("target","_parent");}}}}},clearSelection:function(){var sel={};if(window.getSelection){sel=window.getSelection();}else if(document.selection){sel=document.selection.createRange();}
if(sel.rangeCount){sel.removeAllRanges();return;}
if(sel.text>''){document.selection.empty();return;}},generateCode:function(string_length){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";var string_length=32;var res='';for(var i=0;i<string_length;i++){var rnum=Math.floor(Math.random()*chars.length);res+=chars.substring(rnum,rnum+1);}
return res;},lightenDarkenColor:function(e,t){var n=false;if(e[0]=="#"){e=e.slice(1);n=true}var r=parseInt(e,16);var i=(r>>16)+t;if(i>255)i=255;else if(i<0)i=0;var s=(r>>8&255)+t;if(s>255)s=255;else if(s<0)s=0;var o=(r&255)+t;if(o>255)o=255;else if(o<0)o=0;return(n?"#":"")+(o|s<<8|i<<16).toString(16)}}
var $SA=supportAPI;
/*! device.js 0.1.61 */
(function(){var a,b,c,d,e,f,g,h,i,j;a=$SA.device,$SA.device={},c=window.document.documentElement,j=window.navigator.userAgent.toLowerCase(),$SA.device.ios=function(){return $SA.device.iphone()||$SA.device.ipod()||$SA.device.ipad()},$SA.device.iphone=function(){return d("iphone")},$SA.device.ipod=function(){return d("ipod")},$SA.device.ipad=function(){return d("ipad")},$SA.device.android=function(){return d("android")},$SA.device.androidPhone=function(){return $SA.device.android()&&d("mobile")},$SA.device.androidTablet=function(){return $SA.device.android()&&!d("mobile")},$SA.device.blackberry=function(){return d("blackberry")||d("bb10")||d("rim")},$SA.device.blackberryPhone=function(){return $SA.device.blackberry()&&!d("tablet")},$SA.device.blackberryTablet=function(){return $SA.device.blackberry()&&d("tablet")},$SA.device.windows=function(){return d("windows")},$SA.device.windowsPhone=function(){return $SA.device.windows()&&d("phone")},$SA.device.windowsTablet=function(){return false;},$SA.device.fxos=function(){return(d("(mobile;")||d("(tablet;"))&&d("; rv:")},$SA.device.fxosPhone=function(){return $SA.device.fxos()&&d("mobile")},$SA.device.fxosTablet=function(){return $SA.device.fxos()&&d("tablet")},$SA.device.meego=function(){return d("meego")},$SA.device.cordova=function(){return window.cordova&&"file:"===location.protocol},$SA.device.nodeWebkit=function(){return"object"==typeof window.process},$SA.device.mobile=function(){return $SA.device.androidPhone()||$SA.device.iphone()||$SA.device.ipod()||$SA.device.windowsPhone()||$SA.device.blackberryPhone()||$SA.device.fxosPhone()||$SA.device.meego()},$SA.device.tablet=function(){return $SA.device.ipad()||$SA.device.androidTablet()||$SA.device.blackberryTablet()||$SA.device.windowsTablet()||$SA.device.fxosTablet()},$SA.device.desktop=function(){return!$SA.device.tablet()&&!$SA.device.mobile()},$SA.device.portrait=function(){return window.innerHeight/window.innerWidth>1},$SA.device.landscape=function(){return window.innerHeight/window.innerWidth<1},$SA.device.noConflict=function(){return window.$SA.device=a,this},d=function(a){return-1!==j.indexOf(a)},f=function(a){var b;return b=new RegExp(a,"i"),c.className.match(b)},b=function(a){return;return f(a)?void 0:c.className+=" "+a},h=function(a){return;return f(a)?c.className=c.className.replace(a,""):void 0},$SA.device.ios()?$SA.device.ipad()?b("ios ipad tablet"):$SA.device.iphone()?b("ios iphone mobile"):$SA.device.ipod()&&b("ios ipod mobile"):b($SA.device.android()?$SA.device.androidTablet()?"android tablet":"android mobile":$SA.device.blackberry()?$SA.device.blackberryTablet()?"blackberry tablet":"blackberry mobile":$SA.device.windows()?$SA.device.windowsTablet()?"windows tablet":$SA.device.windowsPhone()?"windows mobile":"desktop":$SA.device.fxos()?$SA.device.fxosTablet()?"fxos tablet":"fxos mobile":$SA.device.meego()?"meego mobile":$SA.device.nodeWebkit()?"node-webkit":"desktop"),$SA.device.cordova()&&b("cordova"),e=function(){return $SA.device.landscape()?(h("portrait"),b("landscape")):(h("landscape"),b("portrait"))},i="onorientationchange"in window,g=i?"orientationchange":"resize",window.addEventListener?window.addEventListener(g,e,!1):window.attachEvent?window.attachEvent(g,e):window[g]=e,e()}).call(this);$SA.mobile=navigator.userAgent.indexOf('Android 2')==-1&&($SA.device.mobile()||$SA.device.tablet());!function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;if((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(J&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&N(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!K||!K.test(a))){if(o=l=O,p=b,q=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(l=b.getAttribute("id"))?o=l.replace(vb,"\\$&"):b.setAttribute("id",o),o="[id='"+o+"'] ",i=j.length;i--;)j[i]=o+n(j[i]);p=ub.test(a)&&k(b.parentNode)||b,q=j.join(",")}if(q)try{return ab.apply(c,p.querySelectorAll(q)),c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>z.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==W&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=kb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=lb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=pb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=R++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=Q+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[O]||(b[O]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[O]&&(e=r(e)),f&&!f[O]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;if(c&&c(r,s,h,i),e)for(j=q(s,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=0,f=c.length>0,g=a.length>0,h=function(d,h,i,j,k){var l,m,n,o=0,p="0",r=d&&[],s=[],t=D,u=d||g&&z.find.TAG("*",k),v=Q+=null==t?1:Math.random()||.1,w=u.length;for(k&&(D=h!==H&&h,y=e);p!==w&&null!=(l=u[p]);p++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}k&&(Q=v,y=++e)}f&&((l=!n&&l)&&o--,d&&r.push(l))}if(o+=p,f&&p!==o){for(m=0;n=c[m++];)n(r,s,h,i);if(d){if(o>0)for(;p--;)r[p]||s[p]||(s[p]=$.call(j));s=q(s)}ab.apply(j,s),k&&!d&&s.length>0&&o+c.length>1&&b.uniqueSort(j)}return k&&(Q=v,D=t),r};return f?d(h):h}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&J&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(wb,xb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=pb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(wb,xb),ub.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!J,c,ub.test(a)&&k(b.parentNode)||b),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+-new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=function(a,b){return a===b&&(F=!0),0},W=typeof void 0,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),kb=new RegExp("^"+eb+"*,"+eb+"*"),lb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),mb=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),nb=new RegExp(ib),ob=new RegExp("^"+gb+"$"),pb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},qb=/^(?:input|select|textarea|button)$/i,rb=/^h\d$/i,sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/[+~]/,vb=/'|\\/g,wb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),xb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{ab.apply(Z=bb.call(P.childNodes),P.childNodes),Z[P.childNodes.length].nodeType}catch(yb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={},B=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},G=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:P,d=c.defaultView;return c!==H&&9===c.nodeType&&c.documentElement?(H=c,I=c.documentElement,J=!B(c),d&&d.attachEvent&&d!==d.top&&d.attachEvent("onbeforeunload",function(){G()}),x.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=sb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=e(function(a){return I.appendChild(a).id=O,!c.getElementsByName||!c.getElementsByName(O).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&J){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(wb,xb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(wb,xb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&J?b.getElementsByClassName(a):void 0},L=[],K=[],(x.qsa=sb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||K.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||K.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&K.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(x.matchesSelector=sb.test(M=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){x.disconnectedMatch=M.call(a,"div"),M.call(a,"[s!='']:x"),L.push("!=",ib)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=sb.test(I.compareDocumentPosition),N=b||sb.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return F=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===P&&N(P,a)?-1:b===c||b.ownerDocument===P&&N(P,b)?1:E?cb.call(E,a)-cb.call(E,b):0:4&d?-1:1)}:function(a,b){if(a===b)return F=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:E?cb.call(E,a)-cb.call(E,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===P?-1:j[e]===P?1:0},c):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),c=c.replace(mb,"='$1']"),!(!x.matchesSelector||!J||L&&L.test(c)||K&&K.test(c)))try{var d=M.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=z.attrHandle[b.toLowerCase()],d=c&&Y.call(z.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:x.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},A=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=A(b);return c},z=b.selectors={cacheLength:50,createPseudo:d,match:pb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(wb,xb),a[3]=(a[4]||a[5]||"").replace(wb,xb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return pb.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&nb.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(wb,xb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[O]||(q[O]={}),j=k[a]||[],n=j[0]===Q&&j[1],m=j[0]===Q&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[Q,n,m];break}}else if(s&&(j=(b[O]||(b[O]={}))[a])&&j[0]===Q)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[O]||(l[O]={}))[a]=[Q,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,c){var e,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],z.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=C(a.replace(jb,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:d(function(a){return ob.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(wb,xb).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return rb.test(a.nodeName)},input:function(a){return qb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=i(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[O]?d.push(f):e.push(f);f=U(a,t(e,d))}return f},x.sortStable=O.split("").sort(V).join("")===O,x.detectDuplicates=!!F,G(),x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(db,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),a.$Sizzle=b;}(window);if(true){myJSON={}}(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(e)}if(typeof rep==="function"){a=rep.call(t,e,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){r=rep[n];i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}else{for(r in a){if(Object.prototype.hasOwnProperty.call(a,r)){i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof myJSON.stringify!=="function"){myJSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("myJSON.stringify")}return str("",{"":e})}}if(typeof myJSON.parse!=="function"){myJSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("myJSON.parse")}}})()
var supportJSON={toJSON:function(e){return myJSON.stringify(e)},parseJSON:function(e){var t=myJSON.parse(e);t=supportJSON.parseObject(t);return t},parseObject:function(e){for(var t in e){if(typeof e[t]=="string"){if(e[t].indexOf("{")==0||e[t].indexOf("[")==0){try{var n=supportJSON.parseJSON(e[t])}catch(r){}if(n!=null){e[t]=n}}}else if(typeof e[t]=="object"){e[t]=supportJSON.parseObject(e[t])}}return e}};(function(){function o(){try{return r in t&&t[r]}catch(e){return!1}}var e={},t=window,n=t.document,r="localStorage",i="__storejs__",s;e.disabled=!1,e.set=function(e,t){},e.get=function(e){},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){var i=e.get(t);r==null&&(r=n,n=null),typeof i=="undefined"&&(i=n||{}),r(i),e.set(t,i)},e.getAll=function(){},e.serialize=function(e){return supportJSON.toJSON(e)},e.deserialize=function(e){if(typeof e!="string")return undefined;try{return supportJSON.parseJSON(e)}catch(t){return e||undefined}};if(o())s=t[r],e.set=function(t,n){return n===undefined?e.remove(t):(s.setItem(t,e.serialize(n)),n)},e.get=function(t){return e.deserialize(s.getItem(t))},e.remove=function(e){s.removeItem(e)},e.clear=function(){s.clear()},e.getAll=function(){var t={};for(var n=0;n<s.length;++n){var r=s.key(n);t[r]=e.get(r)}return t};else if(n.documentElement.addBehavior){var u,a;try{a=new ActiveXObject("htmlfile"),a.open(),a.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),a.close(),u=a.w.frames[0].document,s=u.createElement("div")}catch(f){s=n.createElement("div"),u=n.body}function l(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(s),u.appendChild(s),s.addBehavior("#default#userData"),s.load(r);var i=t.apply(e,n);return u.removeChild(s),i}}var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function h(e){return e.replace(c,"___")}e.set=l(function(t,n,i){return n=h(n),i===undefined?e.remove(n):(t.setAttribute(n,e.serialize(i)),t.save(r),i)}),e.get=l(function(t,n){return n=h(n),e.deserialize(t.getAttribute(n))}),e.remove=l(function(e,t){t=h(t),e.removeAttribute(t),e.save(r)}),e.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=0,i;i=t[n];n++)e.removeAttribute(i.name);e.save(r)}),e.getAll=l(function(t){var n=t.XMLDocument.documentElement.attributes,r={};for(var i=0,s;s=n[i];++i){var o=h(s.name);r[s.name]=e.deserialize(t.getAttribute(o))}return r})}try{e.set(i,i),e.get(i)!=i&&(e.disabled=!0),e.remove(i)}catch(f){e.disabled=!0}e.enabled=!e.disabled,typeof module!="undefined"&&typeof module!="function"?module.exports=e:window.supportStore=e})();var supportStorage={get:function(key){if(!supportStore.disabled){var res=supportStore.get(key);}
else{var res=supportJSON.parseJSON($SA.cookie.get(key));}
return res;},set:function(key,value){if(!supportStore.disabled)return supportStore.set(key,value);else{var date=new Date();var days=2;date.setTime(date.getTime()+(days*24*60*60*1000));var expires=date.toGMTString();$SA.cookie.set(key,supportJSON.toJSON(value),expires);}},remove:function(key){if(!supportStore.disabled)return supportStore.remove(key);else{var date=new Date();var days=-1;date.setTime(date.getTime()+(days*24*60*60*1000));var expires=date.toGMTString();$SA.cookie.set(key,null,expires);}}}
var supportStoreWithExpiration={set:function(e,t,n){supportStorage.set(e,{val:t,exp:n,time:(new Date).getTime()})},get:function(e){var t=supportStorage.get(e);if(!t){return null}if((new Date).getTime()-t.time>t.exp){return null}return t.val},remove:function(e){supportStorage.remove(e)}};(function(){if(supportStorage.get("fls")||$SA.inMagicIframe()||$SA.device.mobile()||$SA.device.tablet()||$SA.location.hash().indexOf('browsercid')!=-1)
{$SA.LOADSUPPORT();}
else{$SA.listen("mousemove",document,function(){if(!$SA.initStartedAfterMouseMove){$SA.LOADSUPPORT();}});$SA.listen("touchstart",document,function(){if(!$SA.initStartedAfterMouseMove){$SA.LOADSUPPORT();}});}})();}